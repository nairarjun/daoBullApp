{"ast":null,"code":"import _regeneratorRuntime from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{JsonRpc}from'eosjs';import React,{Component}from'react';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ourNetwork={chainId:\"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f\",rpcEndpoints:[{protocol:\"https\",host:\"api.testnet.eos.io\",port:\"\"}]};var contract_account=\"cthqkrpvdwcm\";var DecentralizeApp=/*#__PURE__*/function(_Component){_inherits(DecentralizeApp,_Component);var _super=_createSuper(DecentralizeApp);function DecentralizeApp(props){var _this;_classCallCheck(this,DecentralizeApp);_this=_super.call(this,props);_this.componentDidUpdate=function(){var activeUser=_this.props.ual.activeUser;if(activeUser&&!_this.state.activeUser){_this.setState({activeUser:activeUser},_this.updateAccountName);_this.getOrderData();}else if(!activeUser&&_this.state.activeUser){_this.setState(defaultState);}};_this.updateAccountName=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accountName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.state.activeUser.getAccountName();case 3:accountName=_context.sent;_this.setState({accountName:accountName},_this.updateAccountBalance);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.warn(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));_this.renderLogoutButton=function(){var _this$props$ual=_this.props.ual,activeUser=_this$props$ual.activeUser,activeAuthenticator=_this$props$ual.activeAuthenticator,logout=_this$props$ual.logout;if(!!activeUser&&!!activeAuthenticator){return/*#__PURE__*/_jsx(\"p\",{className:\"ual-btn-wrapper\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:logout,children:'Logout'})});}};_this.state={activeUser:null,accountName:'',rpc:new JsonRpc(\"\".concat(ourNetwork.rpcEndpoints[0].protocol,\"://\").concat(ourNetwork.rpcEndpoints[0].host).concat(ourNetwork.rpcEndpoints[0].port!==\"\"?\":\":\"\").concat(ourNetwork.rpcEndpoints[0].port))};return _this;}_createClass(DecentralizeApp,[{key:\"renderModalButton\",value:function renderModalButton(){return/*#__PURE__*/_jsx(\"p\",{className:\"ual-btn-wrapper\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",onClick:this.props.ual.showModal,className:\"ual-generic-button\",children:\"Connect to Wallet\"})});}},{key:\"render\",value:function render(){var activeUser=this.props.ual.activeUser;var accountName=this.state.accountName;var modalButton=!activeUser&&this.renderModalButton(),logoutBtn=this.renderLogoutButton(),loggedIn=accountName?\"Logged in as \".concat(accountName):'';return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',paddingTop:'50px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Decentralize.io\"}),modalButton,/*#__PURE__*/_jsx(\"h3\",{className:\"ual-subtitle\",children:loggedIn}),this.state.activeUser&&/*#__PURE__*/_jsx(\"div\",{children:logoutBtn})]});}}]);return DecentralizeApp;}(Component);export default DecentralizeApp;","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/decentralize-io-ui/src/components/Main/DecentralizeApp.js"],"names":["JsonRpc","React","Component","ourNetwork","chainId","rpcEndpoints","protocol","host","port","contract_account","DecentralizeApp","props","componentDidUpdate","activeUser","ual","state","setState","updateAccountName","getOrderData","defaultState","getAccountName","accountName","updateAccountBalance","console","warn","renderLogoutButton","activeAuthenticator","logout","rpc","showModal","modalButton","renderModalButton","logoutBtn","loggedIn","textAlign","paddingTop"],"mappings":"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","sourcesContent":["import { JsonRpc } from 'eosjs'\nimport React, {Component} from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nconst ourNetwork = {\n  chainId: \"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f\",\n  rpcEndpoints: [{ protocol: \"https\", host: \"api.testnet.eos.io\", port: \"\" }]\n}\nconst contract_account = \"cthqkrpvdwcm\";\n\nclass DecentralizeApp extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n        activeUser: null,\n        accountName: '',\n      rpc: new JsonRpc(`${ourNetwork.rpcEndpoints[0].protocol}://${ourNetwork.rpcEndpoints[0].host}${ourNetwork.rpcEndpoints[0].port !== \"\" ? \":\" : \"\"}${ourNetwork.rpcEndpoints[0].port}`),\n    }\n  }\n\n componentDidUpdate = () => {\n    const { ual: { activeUser } } = this.props\n    if (activeUser && !this.state.activeUser) {\n      this.setState({ activeUser }, this.updateAccountName)\n      this.getOrderData();\n    } else if (!activeUser && this.state.activeUser) {\n      this.setState(defaultState)\n    }\n  }\n\n  updateAccountName = async () => {\n    try {\n      const accountName = await this.state.activeUser.getAccountName()\n      this.setState({ accountName }, this.updateAccountBalance)\n    } catch (e) {\n      console.warn(e)\n    }\n  }\n\n  renderLogoutButton = () => {\n    const { ual: { activeUser, activeAuthenticator, logout } } = this.props\n    if (!!activeUser && !!activeAuthenticator) {\n      return (\n        <p className='ual-btn-wrapper'>\n          <Button variant='outline-danger' onClick={logout}>\n            {'Logout'}\n          </Button>\n        </p>\n      )\n    }\n  }\n\n  renderModalButton() {\n    return (\n      <p className='ual-btn-wrapper'>\n        <Button variant='outline-primary'\n          onClick={this.props.ual.showModal}\n          className='ual-generic-button'>Connect to Wallet</Button>\n      </p>\n    )\n  }\n\n  render() {\n    const { ual: { activeUser } } = this.props\n    const { accountName } = this.state\n    let modalButton = !activeUser && this.renderModalButton(),\n    logoutBtn = this.renderLogoutButton(),\n    loggedIn = accountName ? `Logged in as ${accountName}` : ''\n    \n    return (\n      <div style={{ textAlign: 'center', paddingTop: '50px' }}>\n        <h2>Decentralize.io</h2>\n        {modalButton}\n        <h3 className='ual-subtitle'>{loggedIn}</h3>\n        { this.state.activeUser &&\n          <div>\n              {logoutBtn}\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default DecentralizeApp;"]},"metadata":{},"sourceType":"module"}