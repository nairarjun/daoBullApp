{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n}\n\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport ResourceStore from './ResourceStore.js';\nimport Translator from './Translator.js';\nimport LanguageUtils from './LanguageUtils.js';\nimport PluralResolver from './PluralResolver.js';\nimport Interpolator from './Interpolator.js';\nimport BackendConnector from './BackendConnector.js';\nimport { get as getDefaults, transformOptions } from './defaults.js';\nimport postProcessor from './postProcessor.js';\nimport { defer } from './utils.js';\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    _classCallCheck(this, I18n);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      // https://github.com/i18next/i18next/issues/879\n      if (!_this.options.initImmediate) {\n        var _ret;\n\n        _this.init(options, callback);\n\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  I18n.prototype.init = function init() {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = _extends({}, getDefaults(), this.options, transformOptions(options));\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    } // init services\n\n\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n\n      var lu = new LanguageUtils(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      var s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      s.interpolator = new Interpolator(this.options);\n      s.backendConnector = new BackendConnector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options); // pipe events from backendConnector\n\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n\n      this.translator = new Translator(this.services, this.options); // pipe events from translator\n\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n      this.modules.external.forEach(function (m) {\n        if (m.init) m.init(_this2);\n      });\n    } // append api\n\n\n    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(function (fcName) {\n      _this2[fcName] = function () {\n        var _store;\n\n        return (_store = _this2.store)[fcName].apply(_store, arguments);\n      };\n    });\n    var deferred = defer();\n\n    var load = function load() {\n      _this2.changeLanguage(_this2.options.lng, function (err, t) {\n        _this2.isInitialized = true;\n\n        _this2.logger.log('initialized', _this2.options);\n\n        _this2.emit('initialized', _this2.options);\n\n        deferred.resolve(t); // not rejecting on err (as err is only a loading translation failed warning)\n\n        callback(err, t);\n      });\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return deferred;\n  };\n  /* eslint consistent-return: 0 */\n\n\n  I18n.prototype.loadResources = function loadResources() {\n    var _this3 = this;\n\n    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode\n\n      var toLoad = [];\n\n      var append = function append(lng) {\n        if (!lng) return;\n\n        var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n\n      if (!this.language) {\n        // at least load fallbacks in this case\n        var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(function (l) {\n          return append(l);\n        });\n      } else {\n        append(this.language);\n      }\n\n      if (this.options.preload) {\n        this.options.preload.forEach(function (l) {\n          return append(l);\n        });\n      }\n\n      this.services.backendConnector.load(toLoad, this.options.ns, callback);\n    } else {\n      callback(null);\n    }\n  };\n\n  I18n.prototype.reloadResources = function reloadResources(lngs, ns, callback) {\n    var deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, function () {\n      deferred.resolve();\n      callback(null);\n    });\n    return deferred;\n  };\n\n  I18n.prototype.use = function use(module) {\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {\n    var _this4 = this;\n\n    var deferred = defer();\n\n    var done = function done(err, l) {\n      _this4.translator.changeLanguage(l);\n\n      if (l) {\n        _this4.emit('languageChanged', l);\n\n        _this4.logger.log('languageChanged', l);\n      }\n\n      deferred.resolve(function () {\n        return _this4.t.apply(_this4, arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this4.t.apply(_this4, arguments);\n      });\n    };\n\n    var setLng = function setLng(l) {\n      if (l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n        if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n      }\n\n      _this4.loadResources(function (err) {\n        done(err, l);\n      });\n    };\n\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      this.services.languageDetector.detect(setLng);\n    } else {\n      setLng(lng);\n    }\n\n    return deferred;\n  };\n\n  I18n.prototype.getFixedT = function getFixedT(lng, ns) {\n    var _this5 = this;\n\n    var fixedT = function fixedT(key, opts) {\n      for (var _len3 = arguments.length, rest = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        rest[_key3 - 2] = arguments[_key3];\n      }\n\n      var options = _extends({}, opts);\n\n      if ((typeof opts === 'undefined' ? 'undefined' : _typeof(opts)) !== 'object') {\n        options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      }\n\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      return _this5.t(key, options);\n    };\n\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n\n    fixedT.ns = ns;\n    return fixedT;\n  };\n\n  I18n.prototype.t = function t() {\n    var _translator;\n\n    return this.translator && (_translator = this.translator).translate.apply(_translator, arguments);\n  };\n\n  I18n.prototype.exists = function exists() {\n    var _translator2;\n\n    return this.translator && (_translator2 = this.translator).exists.apply(_translator2, arguments);\n  };\n\n  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  };\n\n  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {\n    var _this6 = this;\n\n    var deferred = defer();\n\n    if (!this.options.ns) {\n      callback && callback();\n      return Promise.resolve();\n    }\n\n    if (typeof ns === 'string') ns = [ns];\n    ns.forEach(function (n) {\n      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);\n    });\n    this.loadResources(function (err) {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  };\n\n  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {\n    var deferred = defer();\n    if (typeof lngs === 'string') lngs = [lngs];\n    var preloaded = this.options.preload || [];\n    var newLngs = lngs.filter(function (lng) {\n      return preloaded.indexOf(lng) < 0;\n    }); // Exit early if all given languages are already preloaded\n\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(function (err) {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  };\n\n  I18n.prototype.dir = function dir(lng) {\n    if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n    if (!lng) return 'rtl';\n    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n  };\n  /* eslint class-methods-use-this: 0 */\n\n\n  I18n.prototype.createInstance = function createInstance() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n    return new I18n(options, callback);\n  };\n\n  I18n.prototype.cloneInstance = function cloneInstance() {\n    var _this7 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n    var mergedOptions = _extends({}, this.options, options, {\n      isClone: true\n    });\n\n    var clone = new I18n(mergedOptions);\n    var membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(function (m) {\n      clone[m] = _this7[m];\n    });\n    clone.translator = new Translator(clone.services, clone.options);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      clone.emit.apply(clone, [event].concat(args));\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = clone.options; // sync options\n\n    return clone;\n  };\n\n  return I18n;\n}(EventEmitter);\n\nexport default new I18n();","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/node_modules/i18next/dist/es/i18next.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","_defaults","defaults","keys","getOwnPropertyNames","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","enumerable","writable","setPrototypeOf","baseLogger","EventEmitter","ResourceStore","Translator","LanguageUtils","PluralResolver","Interpolator","BackendConnector","get","getDefaults","transformOptions","postProcessor","defer","noop","I18n","_EventEmitter","options","callback","_this","services","logger","modules","external","isInitialized","isClone","initImmediate","_ret","init","setTimeout","_this2","format","interpolation","createClassOnDemand","ClassOrObject","lu","store","resources","s","resourceStore","languageUtils","pluralResolver","prepend","pluralSeparator","compatibilityJSON","simplifyPluralSuffix","interpolator","backendConnector","backend","on","event","_len","args","Array","_key","emit","apply","concat","languageDetector","detection","i18nFormat","translator","_len2","_key2","forEach","m","storeApi","fcName","_store","deferred","load","changeLanguage","lng","err","t","log","resolve","loadResources","_this3","partialBundledLanguages","language","toLowerCase","toLoad","append","lngs","toResolveHierarchy","l","indexOf","push","fallbacks","getFallbackCodes","fallbackLng","preload","ns","reloadResources","languages","reload","use","module","type","warn","error","addPostProcessor","_this4","done","setLng","cacheUserLanguage","async","detect","getFixedT","_this5","fixedT","opts","_len3","rest","_key3","overloadTranslationOptionHandler","_translator","translate","exists","_translator2","setDefaultNamespace","defaultNS","loadNamespaces","_this6","Promise","n","loadLanguages","preloaded","newLngs","filter","dir","rtlLngs","getLanguagePartFromCode","createInstance","cloneInstance","_this7","mergedOptions","clone","membersToCopy","_len4","_key4"],"mappings":"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","sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport ResourceStore from './ResourceStore.js';\nimport Translator from './Translator.js';\nimport LanguageUtils from './LanguageUtils.js';\nimport PluralResolver from './PluralResolver.js';\nimport Interpolator from './Interpolator.js';\nimport BackendConnector from './BackendConnector.js';\nimport { get as getDefaults, transformOptions } from './defaults.js';\nimport postProcessor from './postProcessor.js';\nimport { defer } from './utils.js';\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    _classCallCheck(this, I18n);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = { external: [] };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      // https://github.com/i18next/i18next/issues/879\n      if (!_this.options.initImmediate) {\n        var _ret;\n\n        _this.init(options, callback);\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n      }\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n    return _this;\n  }\n\n  I18n.prototype.init = function init() {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    this.options = _extends({}, getDefaults(), this.options, transformOptions(options));\n\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n\n      var lu = new LanguageUtils(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n\n      var s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      s.interpolator = new Interpolator(this.options);\n\n      s.backendConnector = new BackendConnector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n\n      this.translator = new Translator(this.services, this.options);\n      // pipe events from translator\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      this.modules.external.forEach(function (m) {\n        if (m.init) m.init(_this2);\n      });\n    }\n\n    // append api\n    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(function (fcName) {\n      _this2[fcName] = function () {\n        var _store;\n\n        return (_store = _this2.store)[fcName].apply(_store, arguments);\n      };\n    });\n\n    var deferred = defer();\n\n    var load = function load() {\n      _this2.changeLanguage(_this2.options.lng, function (err, t) {\n        _this2.isInitialized = true;\n        _this2.logger.log('initialized', _this2.options);\n        _this2.emit('initialized', _this2.options);\n\n        deferred.resolve(t); // not rejecting on err (as err is only a loading translation failed warning)\n        callback(err, t);\n      });\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return deferred;\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  I18n.prototype.loadResources = function loadResources() {\n    var _this3 = this;\n\n    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode\n\n      var toLoad = [];\n\n      var append = function append(lng) {\n        if (!lng) return;\n        var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n\n      if (!this.language) {\n        // at least load fallbacks in this case\n        var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(function (l) {\n          return append(l);\n        });\n      } else {\n        append(this.language);\n      }\n\n      if (this.options.preload) {\n        this.options.preload.forEach(function (l) {\n          return append(l);\n        });\n      }\n\n      this.services.backendConnector.load(toLoad, this.options.ns, callback);\n    } else {\n      callback(null);\n    }\n  };\n\n  I18n.prototype.reloadResources = function reloadResources(lngs, ns, callback) {\n    var deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, function () {\n      deferred.resolve();\n      callback(null);\n    });\n    return deferred;\n  };\n\n  I18n.prototype.use = function use(module) {\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {\n    var _this4 = this;\n\n    var deferred = defer();\n\n    var done = function done(err, l) {\n      _this4.translator.changeLanguage(l);\n\n      if (l) {\n        _this4.emit('languageChanged', l);\n        _this4.logger.log('languageChanged', l);\n      }\n\n      deferred.resolve(function () {\n        return _this4.t.apply(_this4, arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this4.t.apply(_this4, arguments);\n      });\n    };\n\n    var setLng = function setLng(l) {\n      if (l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n\n        if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n      }\n\n      _this4.loadResources(function (err) {\n        done(err, l);\n      });\n    };\n\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      this.services.languageDetector.detect(setLng);\n    } else {\n      setLng(lng);\n    }\n\n    return deferred;\n  };\n\n  I18n.prototype.getFixedT = function getFixedT(lng, ns) {\n    var _this5 = this;\n\n    var fixedT = function fixedT(key, opts) {\n      for (var _len3 = arguments.length, rest = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        rest[_key3 - 2] = arguments[_key3];\n      }\n\n      var options = _extends({}, opts);\n      if ((typeof opts === 'undefined' ? 'undefined' : _typeof(opts)) !== 'object') {\n        options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      }\n\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      return _this5.t(key, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    return fixedT;\n  };\n\n  I18n.prototype.t = function t() {\n    var _translator;\n\n    return this.translator && (_translator = this.translator).translate.apply(_translator, arguments);\n  };\n\n  I18n.prototype.exists = function exists() {\n    var _translator2;\n\n    return this.translator && (_translator2 = this.translator).exists.apply(_translator2, arguments);\n  };\n\n  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  };\n\n  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {\n    var _this6 = this;\n\n    var deferred = defer();\n\n    if (!this.options.ns) {\n      callback && callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(function (n) {\n      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);\n    });\n\n    this.loadResources(function (err) {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n\n    return deferred;\n  };\n\n  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {\n    var deferred = defer();\n\n    if (typeof lngs === 'string') lngs = [lngs];\n    var preloaded = this.options.preload || [];\n\n    var newLngs = lngs.filter(function (lng) {\n      return preloaded.indexOf(lng) < 0;\n    });\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(function (err) {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n\n    return deferred;\n  };\n\n  I18n.prototype.dir = function dir(lng) {\n    if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n    if (!lng) return 'rtl';\n\n    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n\n    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n  };\n\n  /* eslint class-methods-use-this: 0 */\n\n\n  I18n.prototype.createInstance = function createInstance() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    return new I18n(options, callback);\n  };\n\n  I18n.prototype.cloneInstance = function cloneInstance() {\n    var _this7 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n    var mergedOptions = _extends({}, this.options, options, { isClone: true });\n    var clone = new I18n(mergedOptions);\n    var membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(function (m) {\n      clone[m] = _this7[m];\n    });\n    clone.translator = new Translator(clone.services, clone.options);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      clone.emit.apply(clone, [event].concat(args));\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = clone.options; // sync options\n\n    return clone;\n  };\n\n  return I18n;\n}(EventEmitter);\n\nexport default new I18n();"]},"metadata":{},"sourceType":"module"}