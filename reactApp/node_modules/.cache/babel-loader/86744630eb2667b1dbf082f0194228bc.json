{"ast":null,"code":"var _jsxFileName = \"/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/src/components/Pages/Organisations/Voting/Voting.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport VotingCard from './VotingCard';\nimport moment from 'moment';\nimport VotingDetails from \"./VotingDetails\";\nimport EOSIOApi from '../../../../common/eosio-apiService';\nimport { REACT_APP_EOSIO_CONTRACT_ACCOUNT } from \"../../../../common/config\";\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport './Voting.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst status = [{\n  key: 'All',\n  value: 'all'\n}, {\n  key: 'Open',\n  value: 'Open'\n}, {\n  key: 'Closed',\n  value: 'Closed'\n}];\nconst outcome = [{\n  key: 'All',\n  value: 'all'\n}, {\n  key: 'Passed',\n  value: 'Passed'\n}, {\n  key: 'Rejected',\n  value: 'Rejected'\n}, {\n  key: 'Enacted',\n  value: 'Passed & Enacted'\n}, {\n  key: 'Pending',\n  value: 'Pending'\n}];\nconst type = [{\n  key: 'All',\n  value: 'all'\n}, {\n  key: 'Voting',\n  value: 'Voting'\n}, {\n  key: 'Financials',\n  value: 'Financials'\n}, {\n  key: 'Shareholder',\n  value: 'Shareholders'\n}];\nconst votingHeader1 = [{\n  key: 'Status',\n  selectedValue: 'Status',\n  data: status,\n  style: {\n    bottom: '-110px'\n  }\n}, {\n  key: 'Outcome',\n  selectedValue: 'Outcome',\n  data: outcome,\n  style: {\n    bottom: '-170px'\n  }\n}, {\n  key: 'Type',\n  selectedValue: 'Type',\n  data: type,\n  style: {\n    bottom: '-141px'\n  }\n}];\nconst votingHeader = [{\n  key: 'Status',\n  selectedValue: 'Status',\n  data: status,\n  style: {\n    bottom: '-110px'\n  }\n}, {\n  key: 'Outcome',\n  selectedValue: 'Outcome',\n  data: outcome,\n  style: {\n    bottom: '-170px'\n  }\n}, {\n  key: 'Type',\n  selectedValue: 'Type',\n  data: type,\n  style: {\n    bottom: '-141px'\n  }\n}];\n\nconst Voting = props => {\n  _s();\n\n  console.log(\"....Voting\", votingHeader1, votingHeader);\n  const eosio = new EOSIOApi(REACT_APP_EOSIO_CONTRACT_ACCOUNT, props.activeUser);\n  let cloneVotingHeader = JSON.parse(JSON.stringify(votingHeader));\n  const [data1, setData1] = useState([]);\n  const [votingDtlsData, setVotingDtlsData] = useState({});\n  const [votingDtls, setVotingDtls] = useState(false);\n  const [openDropBox, setOpenDropDown] = useState(false);\n  const [activeDroxKey, setActiveDroxKey] = useState(null);\n  const [votinQuestionList, setvotinQuestionList] = useState([]);\n  const [votingHeaders, setVotingHeaders] = useState(cloneVotingHeader);\n  const [isDropDownSelected, setDropDownSelected] = useState(false);\n  const [selectedFilters, setFilters] = useState({\n    Status: '',\n    Outcome: '',\n    Type: ''\n  });\n  const [startDate, setStartDate] = useState(null);\n  const [selectedDates, setSelectedDates] = useState(null);\n  const myRef = useRef();\n\n  const handleClose = () => setVotingDtls(false);\n\n  const openVotingDtls = votings => {\n    console.log(\"openVotingDtls....\", votings);\n    setVotingDtls(true);\n    setVotingDtlsData(votings.voteQuestionDtls);\n  };\n\n  const openDropDown = data => {\n    setOpenDropDown(true);\n    setActiveDroxKey(data.key);\n  };\n\n  const setSelectedValue = async (e, option, data) => {\n    e.stopPropagation();\n    setDropDownSelected(true);\n    let votingFilters = JSON.parse(JSON.stringify(selectedFilters));\n    votingHeader.filter(obj => obj.key === data.key)[0].selectedValue = option.key;\n    votingFilters[data.key.trim()] = option.value;\n    let updatedVotingList = await filterVotes(votingFilters);\n    setvotinQuestionList(updatedVotingList);\n    setFilters(votingFilters);\n    setVotingHeaders(votingHeader);\n    setOpenDropDown(false);\n  };\n\n  const filterVotes = (votingFilters, created = selectedDates) => {\n    console.log(\"filterVotes.............\", votingFilters, created);\n    let updatedVotingList = [];\n    let filterNeedToTest = [];\n    let votingData1 = JSON.parse(JSON.stringify(data1));\n\n    for (const [prop, val] of Object.entries(votingFilters)) {\n      if (val !== 'all' && val !== '') filterNeedToTest.push({\n        key: prop.toLowerCase(),\n        value: val\n      });\n    }\n\n    let filterLength = filterNeedToTest.length;\n    console.log(\"filterNeedToTest...........\", filterNeedToTest, filterLength);\n\n    if (filterLength > 0 || created !== null) {\n      for (let z = 0; z < votingData1.length; z++) {\n        let obj = votingData1[z];\n        let breakFlag = false;\n\n        if (created != null) {\n          if (moment(obj.created).utc().format(\"MM/DD/YYYY\") >= created.startDate && moment(obj.created).utc().format(\"MM/DD/YYYY\") <= created.endDate) {\n            if (filterLength === 0) {\n              console.log(\"SPL>..........\");\n              breakFlag = true;\n            }\n\n            if (filterLength === 1 && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value) {\n              console.log(\"OBJ 1\", obj);\n              breakFlag = true;\n            } else if (filterLength === 2 && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value) {\n              console.log(\"OBJ 2\", obj);\n              breakFlag = true;\n            } else if (filterLength === 3 && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value && obj[filterNeedToTest[2].key] === filterNeedToTest[2].value) {\n              console.log(\"OBJ 3\", obj);\n              breakFlag = true;\n            }\n          }\n        } else {\n          console.log(\"ELSE PART\");\n\n          if (filterLength === 1 && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value) {\n            console.log(\"OBJ 1\", obj);\n            breakFlag = true;\n          } else if (filterLength === 2 && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value) {\n            console.log(\"OBJ 2\", obj);\n            breakFlag = true;\n          } else if (filterLength === 3 && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value && obj[filterNeedToTest[2].key] === filterNeedToTest[2].value) {\n            console.log(\"OBJ 3\", obj);\n            breakFlag = true;\n          }\n        }\n\n        if (breakFlag) updatedVotingList.push(obj);\n        if (z === votingData1.length - 1) return updatedVotingList;\n      }\n    } else {\n      updatedVotingList = votingData1;\n      return updatedVotingList;\n    }\n  };\n\n  const handleClickOutside = e => {\n    if (!myRef.current.contains(e.target)) {\n      openDropDown(false);\n    }\n  };\n\n  const handleEvent = (event, picker) => {\n    console.log(\"handleEvent.............\", moment(picker.startDate).format(\"MM/DD/YYYY\"));\n    console.log(picker.startDate);\n  };\n\n  const handleCallback = async (start, end, label) => {\n    console.log(\"handleCallback.............\", moment(start).format(\"MM/DD/YYYY\"), moment(end).format(\"MM/DD/YYYY\"));\n    console.log(start, end, label);\n    setSelectedDates({\n      startDate: moment(start).format(\"MM/DD/YYYY\"),\n      endDate: moment(end).format(\"MM/DD/YYYY\")\n    });\n    let updatedVotingList = await filterVotes(selectedFilters, {\n      startDate: moment(start).format(\"MM/DD/YYYY\"),\n      endDate: moment(end).format(\"MM/DD/YYYY\")\n    });\n    setvotinQuestionList(updatedVotingList);\n  };\n\n  const votedQuestion = async (votingData, isVoted) => {\n    console.log(\"votedQuestion...\", votingData, isVoted);\n    let response = null,\n        token = props.daoList.filter(dao => dao.data.id === votingData.daoid)[0].data.token.split(' ')[1],\n        vote = {\n      id: votingData.id,\n      voter: props.activeEosAccount,\n      tkn: `0 ${token}`,\n      choice: isVoted\n    };\n    console.log(\"vote....\", votingData.type, vote);\n\n    try {\n      if (votingData.type === 'Shareholders') response = await eosio.transaction(props.activeEosAccount, 'votetknprp', { ...vote\n      });else response = await eosio.transaction(props.activeEosAccount, 'votevotprp', { ...vote\n      });\n      setVotingDtls(false);\n      if (!(response && response.length > 0 && response[0].isError)) window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getVotingList = async () => {\n    try {\n      let j = 0,\n          data1 = [],\n          votingList = [],\n          votingQustionsList = [],\n          shareholdersVotingList = [],\n          votingListResponse = await new EOSIOApi(REACT_APP_EOSIO_CONTRACT_ACCOUNT).getTableRows('bigpicturesw', 'bigpicturesw', 'votingprp'),\n          shareholdersVotingListResponse = await new EOSIOApi(REACT_APP_EOSIO_CONTRACT_ACCOUNT).getTableRows('bigpicturesw', 'bigpicturesw', 'tokenprp');\n\n      if (votingListResponse.data.rows.length > 0) {\n        let data = JSON.parse(JSON.stringify(votingListResponse.data.rows));\n        data.map(el => votingList.push(el.data));\n      }\n\n      if (shareholdersVotingListResponse.data.rows.length > 0) {\n        let data = JSON.parse(JSON.stringify(shareholdersVotingListResponse.data.rows));\n        data.map(el => votingList.push(el.data));\n      }\n\n      console.log(\"votingList..........votingList\", votingList);\n\n      if (votingList.length > 0) {\n        votingList.sort((a, b) => new Date(b.created) - new Date(a.created));\n        setStartDate(moment(votingList[votingList.length - 1].created).format(\"MM/DD/YYYY\"));\n      }\n\n      for (j = 0; j < votingList.length; j++) {\n        let item = JSON.parse(JSON.stringify(votingList[j])),\n            totalVote = item.yes + item.no,\n            voteDAO = props.daoList.filter(dao => dao.data.id === item.daoid)[0],\n            token = voteDAO.data.token.split(' ')[1],\n            isTokenAvailable = props.daotokensList.filter(dao => dao.data.balance.split(' ')[1] === token);\n\n        if (item.question) {\n          item.type = 'Voting';\n          item.title = 'Voting';\n        } else {\n          item.type = 'Shareholders';\n          item.title = 'Sharevolder';\n          item.question = `This proposal will distribute ${item.amount} to ${item.user}`;\n        }\n\n        if (isTokenAvailable.length > 0) item.canIVote = true;else item.canIVote = false;\n        item.contentId = j + 1;\n        item.yesPerc = totalVote === 0 ? 0 : (item.yes / totalVote * 100).toFixed(2);\n        item.noPerc = totalVote === 0 ? 0 : (item.no / totalVote * 100).toFixed(2);\n\n        if (moment(moment.utc(item.expires).format()).isAfter(moment.utc().format())) {\n          item.outcome = 'Pending';\n          item.status = 'Open';\n        } else {\n          item.status = 'Closed';\n\n          if (item.yesPerc >= voteDAO.data.support) {\n            item.outcome = 'Passed';\n\n            if (!moment(moment.utc(item.expires).format()).isAfter(moment.utc().format()) && item.type === 'Shareholders') {\n              item.outcome = 'Passed & Enacted';\n            }\n          } else if (item.yesPerc < voteDAO.data.support) {\n            item.outcome = 'Rejected';\n          }\n        }\n\n        data1.push(item);\n\n        if (j === votingList.length - 1) {\n          setData1(data1);\n          setvotinQuestionList(data1);\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"useEffect............\", selectedFilters, props);\n    getVotingList();\n    setFilters({\n      Status: '',\n      Outcome: '',\n      Type: ''\n    });\n    setVotingHeaders(votingHeader1);\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  console.log(\"selectedDates\", selectedDates === null, selectedDates);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"voting_main\",\n    ref: myRef,\n    onClick: handleClickOutside,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"voting_header\",\n      children: [votingHeaders.map((obj, k) => /*#__PURE__*/_jsxDEV(\"div\", {\n        id: obj.key,\n        name: obj.key,\n        className: \"dropdown voting-status\",\n        onClick: () => openDropDown(obj),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"votingstatus-text\",\n          children: obj.selectedValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-angle-down votingstatus-down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 25\n        }, this), openDropBox && activeDroxKey === obj.key && /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"options\",\n          style: obj.style,\n          children: obj.data.length > 0 && obj.data.map((opt, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            \"data-value\": `${opt.value}`,\n            onClick: e => setSelectedValue(e, opt, obj),\n            children: opt.key\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }, this)), startDate != null && /*#__PURE__*/_jsxDEV(DateRangePicker, {\n        onEvent: handleEvent,\n        onCallback: handleCallback,\n        initialSettings: {\n          startDate: selectedDates === null ? startDate : selectedDates.startDate,\n          endDate: selectedDates === null ? moment().utc().format(\"MM/DD/YYYY\") : selectedDates.startDate\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown voting-status\",\n          style: {\n            width: 'max-content'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"votingstatus-text\",\n            style: {\n              paddingRight: '51px'\n            },\n            children: selectedDates === null ? `Start | End` : `${selectedDates.startDate} | ${'  '}${selectedDates.endDate}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-angle-down votingstatus-down\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"voting_body\",\n      children: votinQuestionList.length > 0 && votinQuestionList.map((obj, l) => /*#__PURE__*/_jsxDEV(VotingCard, {\n        id: l,\n        voteQuestionDtls: obj,\n        votingDtls: votingDtls,\n        openVotingDtls: votings => openVotingDtls(votings)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 13\n    }, this), votingDtls && Object.keys(votingDtlsData).length > 0 && /*#__PURE__*/_jsxDEV(VotingDetails, {\n      show: votingDtls,\n      votingDtlsData: votingDtlsData,\n      handleClose: handleClose,\n      votedQuestion: (votingData, isVoted) => votedQuestion(votingData, isVoted)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Voting, \"OAT3dcb0nEay8vgB8bofjdI9PZs=\");\n\n_c = Voting;\nexport default Voting;\n\nvar _c;\n\n$RefreshReg$(_c, \"Voting\");","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/src/components/Pages/Organisations/Voting/Voting.js"],"names":["React","useEffect","useRef","useState","VotingCard","moment","VotingDetails","EOSIOApi","REACT_APP_EOSIO_CONTRACT_ACCOUNT","DateRangePicker","status","key","value","outcome","type","votingHeader1","selectedValue","data","style","bottom","votingHeader","Voting","props","console","log","eosio","activeUser","cloneVotingHeader","JSON","parse","stringify","data1","setData1","votingDtlsData","setVotingDtlsData","votingDtls","setVotingDtls","openDropBox","setOpenDropDown","activeDroxKey","setActiveDroxKey","votinQuestionList","setvotinQuestionList","votingHeaders","setVotingHeaders","isDropDownSelected","setDropDownSelected","selectedFilters","setFilters","Status","Outcome","Type","startDate","setStartDate","selectedDates","setSelectedDates","myRef","handleClose","openVotingDtls","votings","voteQuestionDtls","openDropDown","setSelectedValue","e","option","stopPropagation","votingFilters","filter","obj","trim","updatedVotingList","filterVotes","created","filterNeedToTest","votingData1","prop","val","Object","entries","push","toLowerCase","filterLength","length","z","breakFlag","utc","format","endDate","handleClickOutside","current","contains","target","handleEvent","event","picker","handleCallback","start","end","label","votedQuestion","votingData","isVoted","response","token","daoList","dao","id","daoid","split","vote","voter","activeEosAccount","tkn","choice","transaction","isError","window","location","reload","error","getVotingList","j","votingList","votingQustionsList","shareholdersVotingList","votingListResponse","getTableRows","shareholdersVotingListResponse","rows","map","el","sort","a","b","Date","item","totalVote","yes","no","voteDAO","isTokenAvailable","daotokensList","balance","question","title","amount","user","canIVote","contentId","yesPerc","toFixed","noPerc","expires","isAfter","support","document","addEventListener","removeEventListener","k","opt","i","width","paddingRight","l","keys"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport VotingCard from './VotingCard';\nimport moment from 'moment';\nimport VotingDetails from \"./VotingDetails\";\nimport EOSIOApi from '../../../../common/eosio-apiService';\nimport { REACT_APP_EOSIO_CONTRACT_ACCOUNT } from \"../../../../common/config\";\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport './Voting.css'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\n\nconst status = [\n    { key: 'All', value: 'all' },\n    { key: 'Open', value: 'Open' },\n    { key: 'Closed', value: 'Closed' }\n]\n\nconst outcome = [\n    { key: 'All', value: 'all' },\n    { key: 'Passed', value: 'Passed' },\n    { key: 'Rejected', value: 'Rejected' },\n    { key: 'Enacted', value: 'Passed & Enacted' },\n    { key: 'Pending', value: 'Pending' }\n]\n\nconst type = [\n    { key: 'All', value: 'all' },\n    { key: 'Voting', value: 'Voting' },\n    { key: 'Financials', value: 'Financials' },\n    { key: 'Shareholder', value: 'Shareholders' }\n]\n\nconst votingHeader1 = [\n    { key: 'Status', selectedValue: 'Status', data: status, style: { bottom: '-110px' } },\n    { key: 'Outcome', selectedValue: 'Outcome', data: outcome, style: { bottom: '-170px' } },\n    { key: 'Type', selectedValue: 'Type', data: type, style: { bottom: '-141px' } }\n]\n\nconst votingHeader = [\n    { key: 'Status', selectedValue: 'Status', data: status, style: { bottom: '-110px' } },\n    { key: 'Outcome', selectedValue: 'Outcome', data: outcome, style: { bottom: '-170px' } },\n    { key: 'Type', selectedValue: 'Type', data: type, style: { bottom: '-141px' } }\n]\n\n\nconst Voting = (props) => {\n    console.log(\"....Voting\", votingHeader1, votingHeader)\n    const eosio = new EOSIOApi(REACT_APP_EOSIO_CONTRACT_ACCOUNT, props.activeUser);\n    let cloneVotingHeader = JSON.parse(JSON.stringify(votingHeader))\n    const [data1, setData1] = useState([]);\n    const [votingDtlsData, setVotingDtlsData] = useState({});\n    const [votingDtls, setVotingDtls] = useState(false);\n    const [openDropBox, setOpenDropDown] = useState(false);\n    const [activeDroxKey, setActiveDroxKey] = useState(null);\n    const [votinQuestionList, setvotinQuestionList] = useState([]);\n    const [votingHeaders, setVotingHeaders] = useState(cloneVotingHeader);\n    const [isDropDownSelected, setDropDownSelected] = useState(false);\n    const [selectedFilters, setFilters] = useState({ Status: '', Outcome: '', Type: '' })\n    const [startDate, setStartDate] = useState(null)\n    const [selectedDates, setSelectedDates] = useState(null)\n    const myRef = useRef();\n\n    const handleClose = () => setVotingDtls(false);\n\n    const openVotingDtls = (votings) => {\n        console.log(\"openVotingDtls....\", votings)\n        setVotingDtls(true)\n        setVotingDtlsData(votings.voteQuestionDtls)\n    };\n\n\n    const openDropDown = data => {\n        setOpenDropDown(true)\n        setActiveDroxKey(data.key)\n    }\n\n    const setSelectedValue = async (e, option, data) => {\n        e.stopPropagation();\n        setDropDownSelected(true)\n        let votingFilters = JSON.parse(JSON.stringify(selectedFilters))\n        votingHeader.filter(obj => obj.key === data.key)[0].selectedValue = option.key\n        votingFilters[(data.key).trim()] = option.value\n        let updatedVotingList = await filterVotes(votingFilters)\n        setvotinQuestionList(updatedVotingList)\n        setFilters(votingFilters)\n        setVotingHeaders(votingHeader)\n        setOpenDropDown(false)\n    }\n\n    const filterVotes = (votingFilters, created = selectedDates) => {\n        console.log(\"filterVotes.............\", votingFilters, created)\n        let updatedVotingList = []\n        let filterNeedToTest = []\n        let votingData1 = JSON.parse(JSON.stringify(data1))\n\n        for (const [prop, val] of Object.entries(votingFilters)) {\n            if (val !== 'all' && val !== '')\n                filterNeedToTest.push({ key: (prop).toLowerCase(), value: val })\n        }\n        let filterLength = filterNeedToTest.length\n        console.log(\"filterNeedToTest...........\", filterNeedToTest, filterLength)\n        if (filterLength > 0 || created !== null) {\n            for (let z = 0; z < votingData1.length; z++) {\n                let obj = votingData1[z]\n                let breakFlag = false\n                if (created != null) {\n                    if (moment(obj.created).utc().format(\"MM/DD/YYYY\") >= created.startDate\n                        && moment(obj.created).utc().format(\"MM/DD/YYYY\") <= created.endDate) {\n                        if (filterLength === 0) {\n                            console.log(\"SPL>..........\")\n                            breakFlag = true;\n                        }\n\n                        if (filterLength === 1\n                            && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value) {\n                            console.log(\"OBJ 1\", obj)\n                            breakFlag = true;\n                        } else if (filterLength === 2\n                            && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value\n                            && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value) {\n                            console.log(\"OBJ 2\", obj)\n\n                            breakFlag = true;\n                        } else if (filterLength === 3\n                            && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value\n                            && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value\n                            && obj[filterNeedToTest[2].key] === filterNeedToTest[2].value) {\n                            console.log(\"OBJ 3\", obj)\n\n                            breakFlag = true;\n                        }\n\n                    }\n\n                } else {\n                    console.log(\"ELSE PART\")\n                    if (filterLength === 1\n                        && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value) {\n                        console.log(\"OBJ 1\", obj)\n                        breakFlag = true;\n                    } else if (filterLength === 2\n                        && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value\n                        && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value) {\n                        console.log(\"OBJ 2\", obj)\n\n                        breakFlag = true;\n                    } else if (filterLength === 3\n                        && obj[filterNeedToTest[0].key] === filterNeedToTest[0].value\n                        && obj[filterNeedToTest[1].key] === filterNeedToTest[1].value\n                        && obj[filterNeedToTest[2].key] === filterNeedToTest[2].value) {\n                        console.log(\"OBJ 3\", obj)\n\n                        breakFlag = true;\n                    }\n                }\n\n\n\n                if (breakFlag)\n                    updatedVotingList.push(obj)\n                if (z === votingData1.length - 1)\n                    return updatedVotingList\n            }\n\n\n        } else {\n            updatedVotingList = votingData1\n            return updatedVotingList\n        }\n\n\n    }\n    const handleClickOutside = e => {\n        if (!myRef.current.contains(e.target)) {\n            openDropDown(false);\n        }\n    };\n\n    const handleEvent = (event, picker) => {\n        console.log(\"handleEvent.............\", moment(picker.startDate).format(\"MM/DD/YYYY\"))\n        console.log(picker.startDate);\n    }\n\n    const handleCallback = async (start, end, label) => {\n        console.log(\"handleCallback.............\", moment(start).format(\"MM/DD/YYYY\"), moment(end).format(\"MM/DD/YYYY\"))\n        console.log(start, end, label);\n        setSelectedDates({ startDate: moment(start).format(\"MM/DD/YYYY\"), endDate: moment(end).format(\"MM/DD/YYYY\") })\n\n        let updatedVotingList = await filterVotes(selectedFilters, { startDate: moment(start).format(\"MM/DD/YYYY\"), endDate: moment(end).format(\"MM/DD/YYYY\") })\n        setvotinQuestionList(updatedVotingList)\n    }\n    const votedQuestion = async (votingData, isVoted) => {\n        console.log(\"votedQuestion...\", votingData, isVoted)\n        let response = null,\n            token = props.daoList.filter((dao) => dao.data.id === votingData.daoid)[0].data.token.split(' ')[1],\n            vote = { id: votingData.id, voter: props.activeEosAccount, tkn: `0 ${token}`, choice: isVoted }\n        console.log(\"vote....\", votingData.type, vote)\n        try {\n            if (votingData.type === 'Shareholders')\n                response = await eosio.transaction(props.activeEosAccount, 'votetknprp', { ...vote })\n            else\n                response = await eosio.transaction(props.activeEosAccount, 'votevotprp', { ...vote })\n            setVotingDtls(false)\n            if (!(response && response.length > 0 && response[0].isError))\n                window.location.reload();\n        } catch (error) {\n            console.log(error)\n        }\n\n    }\n\n    const getVotingList = async () => {\n        try {\n            let j = 0,\n                data1 = [],\n                votingList = [],\n                votingQustionsList = [],\n                shareholdersVotingList = [],\n                votingListResponse = await new EOSIOApi(REACT_APP_EOSIO_CONTRACT_ACCOUNT).getTableRows('bigpicturesw', 'bigpicturesw', 'votingprp'),\n                shareholdersVotingListResponse = await new EOSIOApi(REACT_APP_EOSIO_CONTRACT_ACCOUNT).getTableRows('bigpicturesw', 'bigpicturesw', 'tokenprp')\n\n\n\n            if (votingListResponse.data.rows.length > 0) {\n                let data = JSON.parse(JSON.stringify(votingListResponse.data.rows))\n                data.map(el => votingList.push(el.data));\n\n            }\n\n            if (shareholdersVotingListResponse.data.rows.length > 0) {\n                let data = JSON.parse(JSON.stringify(shareholdersVotingListResponse.data.rows))\n                data.map(el => votingList.push(el.data));\n\n            }\n            console.log(\"votingList..........votingList\", votingList)\n            if (votingList.length > 0) {\n                votingList.sort((a, b) => new Date(b.created) - new Date(a.created))\n                setStartDate(moment(votingList[votingList.length - 1].created).format(\"MM/DD/YYYY\"))\n            }\n\n            for (j = 0; j < votingList.length; j++) {\n                let item = JSON.parse(JSON.stringify(votingList[j])),\n                    totalVote = item.yes + item.no,\n                    voteDAO = props.daoList.filter((dao) => dao.data.id === item.daoid)[0],\n                    token = voteDAO.data.token.split(' ')[1],\n                    isTokenAvailable = props.daotokensList.filter((dao) => (dao.data.balance).split(' ')[1] === token)\n\n                if (item.question) {\n                    item.type = 'Voting';\n                    item.title = 'Voting';\n                } else {\n                    item.type = 'Shareholders';\n                    item.title = 'Sharevolder';\n                    item.question = `This proposal will distribute ${item.amount} to ${item.user}`\n                }\n\n                if (isTokenAvailable.length > 0)\n                    item.canIVote = true\n                else\n                    item.canIVote = false\n\n                item.contentId = j + 1\n                item.yesPerc = totalVote === 0 ? 0 : ((item.yes / totalVote) * 100).toFixed(2)\n                item.noPerc = totalVote === 0 ? 0 : ((item.no / totalVote) * 100).toFixed(2)\n\n                if (moment(moment.utc(item.expires).format()).isAfter(moment.utc().format())) {\n                    item.outcome = 'Pending'\n                    item.status = 'Open'\n                } else {\n                    item.status = 'Closed'\n                    if (item.yesPerc >= voteDAO.data.support) {\n                        item.outcome = 'Passed'\n                        if (!(moment(moment.utc(item.expires).format()).isAfter(moment.utc().format())) && item.type === 'Shareholders') {\n                            item.outcome = 'Passed & Enacted'\n                        }\n                    } else if (item.yesPerc < voteDAO.data.support) {\n                        item.outcome = 'Rejected'\n                    }\n                }\n                data1.push(item)\n                if (j === votingList.length - 1) {\n                    setData1(data1)\n                    setvotinQuestionList(data1)\n                }\n            }\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    useEffect(() => {\n        console.log(\"useEffect............\", selectedFilters, props)\n        getVotingList()\n        setFilters({ Status: '', Outcome: '', Type: '' })\n        setVotingHeaders(votingHeader1)\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    console.log(\"selectedDates\", selectedDates === null, selectedDates)\n    return (\n        <div className=\"voting_main\" ref={myRef} onClick={handleClickOutside}>\n            <div className=\"voting_header\" >\n                {votingHeaders.map((obj, k) =>\n                    <div\n                        id={obj.key}\n                        name={obj.key}\n                        className=\"dropdown voting-status\"\n                        onClick={() => openDropDown(obj)}>\n                        <span className=\"votingstatus-text\">{obj.selectedValue}</span>\n                        <span><i className=\"fa fa-angle-down votingstatus-down\"></i></span>\n                        {openDropBox && activeDroxKey === obj.key &&\n                            <ul className=\"options\" style={obj.style}>\n                                {obj.data.length > 0 && obj.data.map((opt, i) =>\n                                    <li\n                                        key={i}\n                                        data-value={`${opt.value}`}\n                                        onClick={(e) => setSelectedValue(e, opt, obj)}>\n                                        {opt.key}\n                                    </li>\n                                )}\n                            </ul>}\n                    </div>)}\n                {startDate != null &&\n                    <DateRangePicker\n                        onEvent={handleEvent}\n                        onCallback={handleCallback}\n                        initialSettings={{\n                            startDate: selectedDates === null ? startDate : selectedDates.startDate,\n                            endDate: selectedDates === null ? moment().utc().format(\"MM/DD/YYYY\") : selectedDates.startDate\n                        }}\n                    >\n                        <div className=\"dropdown voting-status\" style={{ width: 'max-content' }} >\n                            <span className=\"votingstatus-text\" style={{ paddingRight: '51px' }}>\n                                {selectedDates === null ? `Start | End` : `${selectedDates.startDate} | ${'  '}${selectedDates.endDate}`}\n                            </span>\n                            <span><i className=\"fa fa-angle-down votingstatus-down\"></i>\n                            </span>\n                        </div>\n                    </DateRangePicker>\n                }\n\n            </div>\n            <div className=\"voting_body\">\n                {votinQuestionList.length > 0 && votinQuestionList.map((obj, l) =>\n                    <VotingCard\n                        id={l}\n                        voteQuestionDtls={obj}\n                        votingDtls={votingDtls}\n                        openVotingDtls={(votings) => openVotingDtls(votings)}\n                    />)}\n            </div>\n            {\n                votingDtls && Object.keys(votingDtlsData).length > 0 &&\n                <VotingDetails\n                    show={votingDtls}\n                    votingDtlsData={votingDtlsData}\n                    handleClose={handleClose}\n                    votedQuestion={(votingData, isVoted) => votedQuestion(votingData, isVoted)}\n                />\n            }\n        </div >\n    )\n}\n\nexport default Voting;"]},"metadata":{},"sourceType":"module"}