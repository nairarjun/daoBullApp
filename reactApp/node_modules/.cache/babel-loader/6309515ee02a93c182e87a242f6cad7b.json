{"ast":null,"code":"var _jsxFileName = \"/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/src/components/Pages/Organisations/TransactionType/TransactionType.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './TransactionType.css';\nimport EOSIOApi from '../../../../common/eosio-apiService';\nimport config from '../../../../common/config';\nimport TransactionFund from '../TransactionFund/TransactionFund';\nimport VotingModal from \"../VotingModal/VotingModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TransactionType(props) {\n  _s();\n\n  const eosio = new EOSIOApi(config.REACT_APP_EOSIO_CONTRACT_ACCOUNT, props.activeUser);\n  const eosioDaoToken = new EOSIOApi('daotokens123', props.activeUser);\n  const [proposeVotes, setVroposeVotes] = useState(null);\n  const [clickedOpenModal, setclickedOpenModal] = useState(false);\n  const [clickedSubModal, setclickedSubModal] = useState(false);\n  const [modalData, setcModalData] = useState({});\n  const [votingmodal, setVotingModal] = useState(false);\n  const myRef = useRef();\n\n  const handleClickOutside = e => {\n    if (!myRef.current.contains(e.target)) {\n      setclickedOpenModal(false);\n    }\n  };\n\n  const closeVotingModal = () => {\n    console.log(\"closeVotingModal\\nsetVotingModal\", false);\n    setVotingModal(false);\n  };\n\n  const handleClose = () => setclickedSubModal(false);\n\n  const handleClickSubModal = data => {\n    setcModalData(data);\n    setclickedSubModal(true);\n  };\n\n  const handleClickInside = () => {\n    console.log(\"handleClickInside\");\n\n    if (props.match.params.menu === 'Voting') {\n      setVotingModal(true);\n      console.log(\"setVotingModal\", true);\n    } else setclickedOpenModal(true);\n  };\n\n  const transferToken = async (tokenList, index) => {\n    let data = [],\n        tokenInfp = {};\n\n    for (let i = 0; i < tokenList.length; i++) {\n      if (index === 1) {\n        tokenInfp = {\n          daoid: props.selectedDAO.id,\n          creator: props.activeEosAccount,\n          user: tokenList[i].shareholderAccount,\n          amount: tokenList[i].balance\n        };\n        data.push(await eosio.transaction(props.activeEosAccount, 'crttokenprp', { ...tokenInfp\n        }));\n      } else if (index === 2) {\n        tokenInfp = {\n          from: props.activeEosAccount,\n          to: tokenList[i].shareholderAccount,\n          quantity: tokenList[i].balance,\n          memo: 'memo'\n        };\n        data.push(await eosioDaoToken.transaction(props.activeEosAccount, 'transfer', { ...tokenInfp\n        }));\n      }\n\n      if (i === tokenList.length - 1) {\n        try {\n          let result = await Promise.all(data);\n\n          if (!(result && result.length > 0 && result[0].isError)) {\n            setclickedSubModal(false); // props.history.push(`/organisation/Shareholeders/${props.selectedDAO.id}`)\n            // window.location.reload();\n          }\n        } catch (error) {\n          console.log(\"ERROR BLCOK\");\n          console.log(error);\n          alert(error);\n          this.props.history.push('/');\n        }\n      }\n    }\n  };\n\n  const proposeVote = async question => {\n    let questionData = {\n      daoid: props.selectedDAO.id,\n      creator: props.activeEosAccount,\n      question\n    };\n\n    try {\n      await eosio.transaction(props.activeEosAccount, 'crtvotingprp', { ...questionData\n      });\n      window.location.reload();\n    } catch (error) {\n      console.log(\"error...MSG\");\n      console.log(error);\n    }\n\n    console.log(\"proposeVote\\nsetVotingModal\", false);\n    setVotingModal(false);\n  };\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"DI_Edit_Organisation\",\n      ref: myRef,\n      onClick: handleClickInside,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-plus\",\n        style: {\n          fontSize: '22px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), clickedOpenModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"myModal\",\n        className: \"modal dao-modal transaction-type-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content dao-content-box transactionType\",\n          children: props.data.map((obj, i) => {\n            return /*#__PURE__*/_jsxDEV(\"span\", {\n              children: obj.live ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"transactionTypeContent\",\n                onClick: () => handleClickSubModal(obj.content),\n                children: obj.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 55\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"transactionTypeContent\",\n                style: {\n                  color: '#8E8E8E',\n                  cursor: 'none'\n                },\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-lock lock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 141\n                }, this), \"Create new share type\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 55\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 41\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), votingmodal && /*#__PURE__*/_jsxDEV(VotingModal, {\n      handleClose: closeVotingModal,\n      show: votingmodal,\n      proposeVote: proposeVote,\n      openFundModalDtls: modalData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this), clickedSubModal && /*#__PURE__*/_jsxDEV(TransactionFund, {\n      handleClose: handleClose,\n      show: clickedSubModal,\n      selectedDAO: props.selectedDAO,\n      transferToken: (tokenList, index) => transferToken(tokenList, index),\n      unallocatedSharesAmt: props.unallocatedSharesAmt,\n      activeEosAccountBal: props.activeEosAccountBal,\n      activeEosAccount: props.activeEosAccount,\n      openFundModalDtls: modalData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TransactionType, \"b2Ae/nWVs4PBV2+JINCadMz4V4o=\");\n\n_c = TransactionType;\nexport default _c2 = withRouter(TransactionType);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TransactionType\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/src/components/Pages/Organisations/TransactionType/TransactionType.js"],"names":["React","useEffect","useRef","useState","withRouter","EOSIOApi","config","TransactionFund","VotingModal","TransactionType","props","eosio","REACT_APP_EOSIO_CONTRACT_ACCOUNT","activeUser","eosioDaoToken","proposeVotes","setVroposeVotes","clickedOpenModal","setclickedOpenModal","clickedSubModal","setclickedSubModal","modalData","setcModalData","votingmodal","setVotingModal","myRef","handleClickOutside","e","current","contains","target","closeVotingModal","console","log","handleClose","handleClickSubModal","data","handleClickInside","match","params","menu","transferToken","tokenList","index","tokenInfp","i","length","daoid","selectedDAO","id","creator","activeEosAccount","user","shareholderAccount","amount","balance","push","transaction","from","to","quantity","memo","result","Promise","all","isError","error","alert","history","proposeVote","question","questionData","window","location","reload","document","addEventListener","removeEventListener","fontSize","map","obj","live","content","title","color","cursor","unallocatedSharesAmt","activeEosAccountBal"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './TransactionType.css'\nimport EOSIOApi from '../../../../common/eosio-apiService';\nimport config from '../../../../common/config'\nimport TransactionFund from '../TransactionFund/TransactionFund'\nimport VotingModal from \"../VotingModal/VotingModal\";\n\nfunction TransactionType(props) {\n    const eosio = new EOSIOApi(config.REACT_APP_EOSIO_CONTRACT_ACCOUNT, props.activeUser)\n    const eosioDaoToken = new EOSIOApi('daotokens123', props.activeUser)\n\n    const [proposeVotes, setVroposeVotes] = useState(null);\n    const [clickedOpenModal, setclickedOpenModal] = useState(false);\n    const [clickedSubModal, setclickedSubModal] = useState(false);\n    const [modalData, setcModalData] = useState({});\n    const [votingmodal, setVotingModal] = useState(false);\n    const myRef = useRef();\n\n    const handleClickOutside = e => {\n        if (!myRef.current.contains(e.target)) {\n            setclickedOpenModal(false);\n        }\n    };\n\n    const closeVotingModal = () => {\n        console.log(\"closeVotingModal\\nsetVotingModal\",false)\n        setVotingModal(false);\n\n    }\n\n    const handleClose = () => setclickedSubModal(false)\n\n    const handleClickSubModal = (data) => {\n        setcModalData(data)\n        setclickedSubModal(true)\n    };\n\n    const handleClickInside = () => {\n        console.log(\"handleClickInside\")\n        if (props.match.params.menu === 'Voting') {\n            setVotingModal(true)\n            console.log(\"setVotingModal\", true)\n        } else\n            setclickedOpenModal(true)\n    }\n\n    const transferToken = async (tokenList, index) => {\n        let data = [], tokenInfp = {}\n        for (let i = 0; i < tokenList.length; i++) {\n            if (index === 1) {\n                tokenInfp = {\n                    daoid: props.selectedDAO.id,\n                    creator: props.activeEosAccount,\n                    user: tokenList[i].shareholderAccount,\n                    amount: tokenList[i].balance\n                }\n                data.push(await eosio.transaction(props.activeEosAccount, 'crttokenprp', { ...tokenInfp }))\n            } else if (index === 2) {\n                tokenInfp = {\n                    from: props.activeEosAccount,\n                    to: tokenList[i].shareholderAccount,\n                    quantity: tokenList[i].balance,\n                    memo: 'memo'\n                }\n                data.push(await eosioDaoToken.transaction(props.activeEosAccount, 'transfer', { ...tokenInfp }))\n            }\n            if (i === tokenList.length - 1) {\n                try {\n                    let result = await Promise.all(data)\n                    if (!(result && result.length > 0 && result[0].isError)) {\n                        setclickedSubModal(false)\n                        // props.history.push(`/organisation/Shareholeders/${props.selectedDAO.id}`)\n                        // window.location.reload();\n                    }\n                } catch (error) {\n                    console.log(\"ERROR BLCOK\")\n                    console.log(error)\n                    alert(error)\n                    this.props.history.push('/')\n                }\n            }\n        }\n    }\n\n    const proposeVote = async (question) => {\n        let questionData = { daoid: props.selectedDAO.id, creator: props.activeEosAccount, question }\n        try {\n            await eosio.transaction(props.activeEosAccount, 'crtvotingprp', { ...questionData })\n            window.location.reload();\n        } catch (error) {\n            console.log(\"error...MSG\")\n            console.log(error)\n        }\n        console.log(\"proposeVote\\nsetVotingModal\",false)\n        setVotingModal(false)\n    }\n\n    useEffect(() => {\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    return (\n        <div>\n            <div className=\"DI_Edit_Organisation\" ref={myRef} onClick={handleClickInside}>\n                <i className=\"fa fa-plus\" style={{ fontSize: '22px' }}></i>\n                {clickedOpenModal &&\n                    <div id=\"myModal\" className=\"modal dao-modal transaction-type-modal\"  >\n                        <div className=\"modal-content dao-content-box transactionType\">\n                            {\n                                props.data.map((obj, i) => {\n                                    return (\n                                        <span key={i} >\n                                            {\n                                                obj.live\n                                                    ? <div className=\"transactionTypeContent\" onClick={() => handleClickSubModal(obj.content)}>{obj.title}</div>\n                                                    : <div className=\"transactionTypeContent\" style={{ color: '#8E8E8E', cursor: 'none' }}> <i className=\"fa fa-lock lock\"></i>Create new share type</div>\n                                            }\n                                        </span>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>}\n            </div>\n\n            {votingmodal &&\n                <VotingModal\n                    handleClose={closeVotingModal}\n                    show={votingmodal}\n                    proposeVote={proposeVote}\n                    openFundModalDtls={modalData} />}\n\n            {clickedSubModal &&\n                <TransactionFund\n                    handleClose={handleClose}\n                    show={clickedSubModal}\n                    selectedDAO={props.selectedDAO}\n                    transferToken={(tokenList, index) => transferToken(tokenList, index)}\n                    unallocatedSharesAmt={props.unallocatedSharesAmt}\n                    activeEosAccountBal={props.activeEosAccountBal}\n                    activeEosAccount={props.activeEosAccount}\n                    openFundModalDtls={modalData} />}\n        </div>\n    );\n}\n\nexport default withRouter(TransactionType);"]},"metadata":{},"sourceType":"module"}