{"ast":null,"code":"var _jsxFileName = \"/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/src/components/Main/DecentralizeApp.js\";\nimport { JsonRpc } from 'eosjs';\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport HomePage from '../Pages/HomePage/HomePage';\nimport CreateOrganisation from '../Pages/CreateOrganisation/CreateOrganisation';\nimport ScrollToTop from '../ScrollToTop/ScrollToTop';\nimport HeaderLayout from '../layouts/Header/HeaderLayout';\nimport SideMenuLayout from \"../layouts/SideMenu/SideMenuLayout\";\nimport Shareholder from \"../Pages/Shareholders/Shareholder\";\nimport FinancialsPage from '../Pages/Financials/FinancialsPage';\nimport { REACT_APP_EOSIO_ACCOUNT, REACT_APP_EOSIO_HOST, REACT_APP_EOSIO_CHAIN_ID, REACT_APP_EOSIO_PROTOCOL, REACT_APP_EOSIO_PORT } from \"../../common/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ourNetwork = {\n  chainId: REACT_APP_EOSIO_CHAIN_ID,\n  rpcEndpoints: [{\n    protocol: REACT_APP_EOSIO_PROTOCOL,\n    host: REACT_APP_EOSIO_HOST,\n    port: REACT_APP_EOSIO_PORT\n  }]\n};\nconst contract_account = REACT_APP_EOSIO_ACCOUNT;\nconst defaultState = {\n  activeUser: null,\n  accountName: ''\n};\n\nclass DecentralizeApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidUpdate = () => {\n      const {\n        ual: {\n          activeUser\n        }\n      } = this.props;\n\n      if (activeUser && !this.state.activeUser) {\n        this.setState({\n          activeUser\n        }, this.updateAccountName);\n      } else if (!activeUser && this.state.activeUser) {\n        this.setState(defaultState);\n      }\n    };\n\n    this.updateAccountName = async () => {\n      console.log(\"contract_account\", contract_account);\n\n      try {\n        const accountName = await this.state.activeUser.getAccountName();\n        this.setState({\n          accountName\n        }, this.updateAccountBalance);\n      } catch (e) {\n        console.warn(e);\n      }\n    };\n\n    this.state = { ...defaultState,\n      rpc: new JsonRpc(`${ourNetwork.rpcEndpoints[0].protocol}://${ourNetwork.rpcEndpoints[0].host}${ourNetwork.rpcEndpoints[0].port !== \"\" ? \":\" : \"\"}${ourNetwork.rpcEndpoints[0].port}`)\n    };\n  }\n\n  render() {\n    const {\n      ual: {\n        activeUser\n      }\n    } = this.props;\n    const {\n      accountName\n    } = this.state;\n    let propsData = {\n      accountName,\n      activeUser,\n      ual: this.props.ual\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"DecentralizeApp_main\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(ScrollToTop, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/organisationdetails/:menu\",\n              render: props => /*#__PURE__*/_jsxDEV(SideMenuLayout, { ...propsData,\n                children: /*#__PURE__*/_jsxDEV(Shareholder, { ...props\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 112\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 81\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              render: () => /*#__PURE__*/_jsxDEV(HeaderLayout, { ...propsData,\n                children: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 81\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/Financials\",\n              render: () => /*#__PURE__*/_jsxDEV(FinancialsPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/CreateOrganisation\",\n              render: () => /*#__PURE__*/_jsxDEV(HeaderLayout, { ...propsData,\n                children: /*#__PURE__*/_jsxDEV(CreateOrganisation, {\n                  activeUser: activeUser,\n                  ual: this.props.ual,\n                  accountName: accountName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 60\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DecentralizeApp;","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/src/components/Main/DecentralizeApp.js"],"names":["JsonRpc","React","Component","BrowserRouter","Router","Route","Switch","HomePage","CreateOrganisation","ScrollToTop","HeaderLayout","SideMenuLayout","Shareholder","FinancialsPage","REACT_APP_EOSIO_ACCOUNT","REACT_APP_EOSIO_HOST","REACT_APP_EOSIO_CHAIN_ID","REACT_APP_EOSIO_PROTOCOL","REACT_APP_EOSIO_PORT","ourNetwork","chainId","rpcEndpoints","protocol","host","port","contract_account","defaultState","activeUser","accountName","DecentralizeApp","constructor","props","componentDidUpdate","ual","state","setState","updateAccountName","console","log","getAccountName","updateAccountBalance","e","warn","rpc","render","propsData"],"mappings":"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","sourcesContent":["import { JsonRpc } from 'eosjs'\nimport React, {Component} from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport HomePage from '../Pages/HomePage/HomePage';\nimport CreateOrganisation from '../Pages/CreateOrganisation/CreateOrganisation';\nimport ScrollToTop from '../ScrollToTop/ScrollToTop';\nimport HeaderLayout from '../layouts/Header/HeaderLayout';\nimport SideMenuLayout from \"../layouts/SideMenu/SideMenuLayout\";\nimport Shareholder from \"../Pages/Shareholders/Shareholder\";\nimport FinancialsPage from '../Pages/Financials/FinancialsPage';\nimport {  REACT_APP_EOSIO_ACCOUNT,REACT_APP_EOSIO_HOST, REACT_APP_EOSIO_CHAIN_ID, REACT_APP_EOSIO_PROTOCOL ,REACT_APP_EOSIO_PORT} from \"../../common/config\";\n\n\nconst ourNetwork = {\n  chainId: REACT_APP_EOSIO_CHAIN_ID,\n  rpcEndpoints: [{ protocol: REACT_APP_EOSIO_PROTOCOL, host: REACT_APP_EOSIO_HOST, port: REACT_APP_EOSIO_PORT }]\n}\nconst contract_account = REACT_APP_EOSIO_ACCOUNT;\nconst defaultState = {\n  activeUser: null,\n  accountName: '',\n};\n\nclass DecentralizeApp extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n       ...defaultState,\n      rpc: new JsonRpc(`${ourNetwork.rpcEndpoints[0].protocol}://${ourNetwork.rpcEndpoints[0].host}${ourNetwork.rpcEndpoints[0].port !== \"\" ? \":\" : \"\"}${ourNetwork.rpcEndpoints[0].port}`),\n    }\n  }\n\n componentDidUpdate = () => {\n    const { ual: { activeUser } } = this.props\n    if (activeUser && !this.state.activeUser) {\n      this.setState({ activeUser }, this.updateAccountName)\n    } else if (!activeUser && this.state.activeUser) {\n      this.setState(defaultState)\n    }\n  }\n\n  updateAccountName = async () => {\n    console.log(\"contract_account\",contract_account)\n    try {\n      const accountName = await this.state.activeUser.getAccountName()\n      this.setState({ accountName }, this.updateAccountBalance)\n    } catch (e) {\n      console.warn(e)\n    }\n  }\n\n  render() {\n    const { ual: { activeUser } } = this.props\n    const { accountName } = this.state\n    let propsData = {\n      accountName, activeUser, ual: this.props.ual\n    }\n    return (\n      <div className=\"DecentralizeApp_main\">\n        <Router >\n          <ScrollToTop>\n            <Switch>\n              <Route exact path=\"/organisationdetails/:menu\" render={(props) => <SideMenuLayout {...propsData}><Shareholder {...props}/></SideMenuLayout>}/>\n              <Route exact path=\"/\" render={() => <HeaderLayout {...propsData} ><HomePage/></HeaderLayout>}/>\n              <Route exact path=\"/Financials\" render={() => <FinancialsPage/>}/>\n              <Route exact path=\"/CreateOrganisation\"\n               render={() => <HeaderLayout {...propsData} ><CreateOrganisation activeUser={activeUser} ual={this.props.ual}  accountName={accountName} />\n               </HeaderLayout> } />\n            </Switch>\n          </ScrollToTop>\n        {/* </SourceTracking> */}\n        </Router>\n      </div>\n    )\n  }\n}\n\nexport default DecentralizeApp;"]},"metadata":{},"sourceType":"module"}