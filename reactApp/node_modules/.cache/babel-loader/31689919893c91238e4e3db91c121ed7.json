{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n}\n\nimport * as utils from './utils.js';\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, options, callback) {\n    var _this2 = this; // find what needs to be loaded\n\n\n    var toLoad = [];\n    var pending = [];\n    var toLoadLanguages = [];\n    var toLoadNamespaces = [];\n    languages.forEach(function (lng) {\n      var hasAllNamespaces = true;\n      namespaces.forEach(function (ns) {\n        var name = lng + '|' + ns;\n\n        if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n          _this2.state[name] = 2; // loaded\n        } else if (_this2.state[name] < 0) {// nothing to do for err\n        } else if (_this2.state[name] === 1) {\n          if (pending.indexOf(name) < 0) pending.push(name);\n        } else {\n          _this2.state[name] = 1; // pending\n\n          hasAllNamespaces = false;\n          if (pending.indexOf(name) < 0) pending.push(name);\n          if (toLoad.indexOf(name) < 0) toLoad.push(name);\n          if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages.push(lng);\n    });\n\n    if (toLoad.length || pending.length) {\n      this.queue.push({\n        pending: pending,\n        loaded: {},\n        errors: [],\n        callback: callback\n      });\n    }\n\n    return {\n      toLoad: toLoad,\n      pending: pending,\n      toLoadLanguages: toLoadLanguages,\n      toLoadNamespaces: toLoadNamespaces\n    };\n  };\n\n  Connector.prototype.loaded = function loaded(name, err, data) {\n    var _name$split = name.split('|'),\n        _name$split2 = _slicedToArray(_name$split, 2),\n        lng = _name$split2[0],\n        ns = _name$split2[1];\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    } // set loaded\n\n\n    this.state[name] = err ? -1 : 2; // consolidated loading done in this run - only emit once for a loaded namespace\n\n    var loaded = {}; // callback if ready\n\n    this.queue.forEach(function (q) {\n      utils.pushPath(q.loaded, [lng], ns);\n      remove(q.pending, name);\n      if (err) q.errors.push(err);\n\n      if (q.pending.length === 0 && !q.done) {\n        // only do once per loaded -> this.emit('loaded', q.loaded);\n        Object.keys(q.loaded).forEach(function (l) {\n          if (!loaded[l]) loaded[l] = [];\n\n          if (q.loaded[l].length) {\n            q.loaded[l].forEach(function (ns) {\n              if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n            });\n          }\n        });\n        /* eslint no-param-reassign: 0 */\n\n        q.done = true;\n\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    }); // emit consolidated loaded event\n\n    this.emit('loaded', loaded); // remove done load requests\n\n    this.queue = this.queue.filter(function (q) {\n      return !q.done;\n    });\n  };\n\n  Connector.prototype.read = function read(lng, ns, fcName) {\n    var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    var _this3 = this;\n\n    var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n    var callback = arguments[5];\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    return this.backend[fcName](lng, ns, function (err, data) {\n      if (err && data\n      /* = retryFlag */\n      && tried < 5) {\n        setTimeout(function () {\n          _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n\n      callback(err, data);\n    });\n  };\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.prepareLoading = function prepareLoading(languages, namespaces) {\n    var _this4 = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = arguments[3];\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n\n      return null; // pendings will trigger callback\n    }\n\n    toLoad.toLoad.forEach(function (name) {\n      _this4.loadOne(name);\n    });\n  };\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  };\n\n  Connector.prototype.reload = function reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  };\n\n  Connector.prototype.loadOne = function loadOne(name) {\n    var _this5 = this;\n\n    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    var _name$split3 = name.split('|'),\n        _name$split4 = _slicedToArray(_name$split3, 2),\n        lng = _name$split4[0],\n        ns = _name$split4[1];\n\n    this.read(lng, ns, 'read', null, null, function (err, data) {\n      if (err) _this5.logger.warn(prefix + 'loading namespace ' + ns + ' for language ' + lng + ' failed', err);\n      if (!err && data) _this5.logger.log(prefix + 'loaded namespace ' + ns + ' for language ' + lng, data);\n\n      _this5.loaded(name, err, data);\n    });\n  };\n\n  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n    if (this.backend && this.backend.create) {\n      this.backend.create(languages, namespace, key, fallbackValue, null\n      /* unused callback */\n      , _extends({}, options, {\n        isUpdate: isUpdate\n      }));\n    } // write to store to avoid resending\n\n\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nexport default Connector;","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/node_modules/i18next/dist/es/BackendConnector.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","err","Array","isArray","TypeError","_defaults","obj","defaults","keys","getOwnPropertyNames","getOwnPropertyDescriptor","configurable","defineProperty","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","setPrototypeOf","utils","baseLogger","EventEmitter","remove","what","found","indexOf","splice","Connector","_EventEmitter","backend","store","services","options","_this","languageUtils","logger","state","queue","init","queueLoad","languages","namespaces","callback","_this2","toLoad","pending","toLoadLanguages","toLoadNamespaces","forEach","lng","hasAllNamespaces","ns","name","reload","hasResourceBundle","loaded","errors","data","_name$split","split","_name$split2","emit","addResourceBundle","q","pushPath","l","filter","read","fcName","tried","_this3","wait","setTimeout","prepareLoading","_this4","warn","toResolveHierarchy","loadOne","load","_this5","prefix","_name$split3","_name$split4","log","saveMissing","namespace","fallbackValue","isUpdate","addResource"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport * as utils from './utils.js';\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n    return _this;\n  }\n\n  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, options, callback) {\n    var _this2 = this;\n\n    // find what needs to be loaded\n    var toLoad = [];\n    var pending = [];\n    var toLoadLanguages = [];\n    var toLoadNamespaces = [];\n\n    languages.forEach(function (lng) {\n      var hasAllNamespaces = true;\n\n      namespaces.forEach(function (ns) {\n        var name = lng + '|' + ns;\n\n        if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n          _this2.state[name] = 2; // loaded\n        } else if (_this2.state[name] < 0) {\n          // nothing to do for err\n        } else if (_this2.state[name] === 1) {\n          if (pending.indexOf(name) < 0) pending.push(name);\n        } else {\n          _this2.state[name] = 1; // pending\n\n          hasAllNamespaces = false;\n\n          if (pending.indexOf(name) < 0) pending.push(name);\n          if (toLoad.indexOf(name) < 0) toLoad.push(name);\n          if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n        }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages.push(lng);\n    });\n\n    if (toLoad.length || pending.length) {\n      this.queue.push({\n        pending: pending,\n        loaded: {},\n        errors: [],\n        callback: callback\n      });\n    }\n\n    return {\n      toLoad: toLoad,\n      pending: pending,\n      toLoadLanguages: toLoadLanguages,\n      toLoadNamespaces: toLoadNamespaces\n    };\n  };\n\n  Connector.prototype.loaded = function loaded(name, err, data) {\n    var _name$split = name.split('|'),\n        _name$split2 = _slicedToArray(_name$split, 2),\n        lng = _name$split2[0],\n        ns = _name$split2[1];\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n\n    // consolidated loading done in this run - only emit once for a loaded namespace\n    var loaded = {};\n\n    // callback if ready\n    this.queue.forEach(function (q) {\n      utils.pushPath(q.loaded, [lng], ns);\n      remove(q.pending, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pending.length === 0 && !q.done) {\n        // only do once per loaded -> this.emit('loaded', q.loaded);\n        Object.keys(q.loaded).forEach(function (l) {\n          if (!loaded[l]) loaded[l] = [];\n          if (q.loaded[l].length) {\n            q.loaded[l].forEach(function (ns) {\n              if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n            });\n          }\n        });\n\n        /* eslint no-param-reassign: 0 */\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n\n    // emit consolidated loaded event\n    this.emit('loaded', loaded);\n\n    // remove done load requests\n    this.queue = this.queue.filter(function (q) {\n      return !q.done;\n    });\n  };\n\n  Connector.prototype.read = function read(lng, ns, fcName) {\n    var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    var _this3 = this;\n\n    var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n    var callback = arguments[5];\n\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    return this.backend[fcName](lng, ns, function (err, data) {\n      if (err && data /* = retryFlag */ && tried < 5) {\n        setTimeout(function () {\n          _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    });\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.prepareLoading = function prepareLoading(languages, namespaces) {\n    var _this4 = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = arguments[3];\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    var toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return null; // pendings will trigger callback\n    }\n\n    toLoad.toLoad.forEach(function (name) {\n      _this4.loadOne(name);\n    });\n  };\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  };\n\n  Connector.prototype.reload = function reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, { reload: true }, callback);\n  };\n\n  Connector.prototype.loadOne = function loadOne(name) {\n    var _this5 = this;\n\n    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    var _name$split3 = name.split('|'),\n        _name$split4 = _slicedToArray(_name$split3, 2),\n        lng = _name$split4[0],\n        ns = _name$split4[1];\n\n    this.read(lng, ns, 'read', null, null, function (err, data) {\n      if (err) _this5.logger.warn(prefix + 'loading namespace ' + ns + ' for language ' + lng + ' failed', err);\n      if (!err && data) _this5.logger.log(prefix + 'loaded namespace ' + ns + ' for language ' + lng, data);\n\n      _this5.loaded(name, err, data);\n    });\n  };\n\n  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n    if (this.backend && this.backend.create) {\n      this.backend.create(languages, namespace, key, fallbackValue, null /* unused callback */, _extends({}, options, {\n        isUpdate: isUpdate\n      }));\n    }\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nexport default Connector;"]},"metadata":{},"sourceType":"module"}