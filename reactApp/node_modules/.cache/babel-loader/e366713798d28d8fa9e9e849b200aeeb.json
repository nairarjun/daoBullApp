{"ast":null,"code":"import _objectSpread from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{JsonRpc}from'eosjs';import React,{Component}from'react';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ourNetwork={chainId:\"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f\",rpcEndpoints:[{protocol:\"https\",host:\"api.testnet.eos.io\",port:\"\"}]};var contract_account=\"cthqkrpvdwcm\";var defaultState={activeUser:null,accountName:''};var DecentralizeApp=/*#__PURE__*/function(_Component){_inherits(DecentralizeApp,_Component);var _super=_createSuper(DecentralizeApp);function DecentralizeApp(props){var _this;_classCallCheck(this,DecentralizeApp);_this=_super.call(this,props);_this.componentDidUpdate=function(){var activeUser=_this.props.ual.activeUser;if(activeUser&&!_this.state.activeUser){_this.setState({activeUser:activeUser},_this.updateAccountName);_this.getOrderData();}else if(!activeUser&&_this.state.activeUser){_this.setState(defaultState);}};_this.updateAccountName=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accountName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.state.activeUser.getAccountName();case 3:accountName=_context.sent;_this.setState({accountName:accountName},_this.updateAccountBalance);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.warn(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));_this.renderLogoutButton=function(){var _this$props$ual=_this.props.ual,activeUser=_this$props$ual.activeUser,activeAuthenticator=_this$props$ual.activeAuthenticator,logout=_this$props$ual.logout;if(!!activeUser&&!!activeAuthenticator){return/*#__PURE__*/_jsx(\"p\",{className:\"ual-btn-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{variant:\"outline-danger\",onClick:logout,children:'Logout'})});}};_this.renderModalButton=function(){return/*#__PURE__*/_jsx(\"p\",{className:\"ual-btn-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{variant:\"outline-primary\",onClick:_this.props.ual.showModal,className:\"ual-generic-button\",children:\"Connect to Wallet\"})});};_this.state=_objectSpread(_objectSpread({},defaultState),{},{rpc:new JsonRpc(\"\".concat(ourNetwork.rpcEndpoints[0].protocol,\"://\").concat(ourNetwork.rpcEndpoints[0].host).concat(ourNetwork.rpcEndpoints[0].port!==\"\"?\":\":\"\").concat(ourNetwork.rpcEndpoints[0].port))});return _this;}_createClass(DecentralizeApp,[{key:\"render\",value:function render(){var activeUser=this.props.ual.activeUser;var accountName=this.state.accountName;var modalButton=!activeUser&&this.renderModalButton(),logoutBtn=this.renderLogoutButton(),loggedIn=accountName?\"Logged in as \".concat(accountName):'';return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',paddingTop:'50px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Decentralize.io\"}),modalButton,/*#__PURE__*/_jsx(\"h3\",{className:\"ual-subtitle\",children:loggedIn}),this.state.activeUser&&/*#__PURE__*/_jsx(\"div\",{children:logoutBtn})]});}}]);return DecentralizeApp;}(Component);export default DecentralizeApp;","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/decentralize-io-ui/src/components/Main/DecentralizeApp.js"],"names":["JsonRpc","React","Component","ourNetwork","chainId","rpcEndpoints","protocol","host","port","contract_account","defaultState","activeUser","accountName","DecentralizeApp","props","componentDidUpdate","ual","state","setState","updateAccountName","getOrderData","getAccountName","updateAccountBalance","console","warn","renderLogoutButton","activeAuthenticator","logout","renderModalButton","showModal","rpc","modalButton","logoutBtn","loggedIn","textAlign","paddingTop"],"mappings":"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","sourcesContent":["import { JsonRpc } from 'eosjs'\nimport React, {Component} from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nconst ourNetwork = {\n  chainId: \"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f\",\n  rpcEndpoints: [{ protocol: \"https\", host: \"api.testnet.eos.io\", port: \"\" }]\n}\nconst contract_account = \"cthqkrpvdwcm\";\nconst defaultState = {\n  activeUser: null,\n  accountName: '',\n};\n\nclass DecentralizeApp extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n       ...defaultState,\n      rpc: new JsonRpc(`${ourNetwork.rpcEndpoints[0].protocol}://${ourNetwork.rpcEndpoints[0].host}${ourNetwork.rpcEndpoints[0].port !== \"\" ? \":\" : \"\"}${ourNetwork.rpcEndpoints[0].port}`),\n    }\n  }\n\n componentDidUpdate = () => {\n    const { ual: { activeUser } } = this.props\n    if (activeUser && !this.state.activeUser) {\n      this.setState({ activeUser }, this.updateAccountName)\n      this.getOrderData();\n    } else if (!activeUser && this.state.activeUser) {\n      this.setState(defaultState)\n    }\n  }\n\n  updateAccountName = async () => {\n    try {\n      const accountName = await this.state.activeUser.getAccountName()\n      this.setState({ accountName }, this.updateAccountBalance)\n    } catch (e) {\n      console.warn(e)\n    }\n  }\n\n  renderLogoutButton = () => {\n    const { ual: { activeUser, activeAuthenticator, logout } } = this.props\n    if (!!activeUser && !!activeAuthenticator) {\n      return (\n        <p className='ual-btn-wrapper'>\n          <div variant='outline-danger' onClick={logout}>\n            {'Logout'}\n          </div>\n        </p>\n      )\n    }\n  }\n\n  renderModalButton=()=> {\n    return (\n      <p className='ual-btn-wrapper'>\n        <div variant='outline-primary'\n          onClick={this.props.ual.showModal}\n          className='ual-generic-button'>Connect to Wallet</div>\n      </p>\n    )\n  }\n\n  render() {\n    const { ual: { activeUser } } = this.props\n    const { accountName } = this.state\n    let modalButton = !activeUser && this.renderModalButton(),\n    logoutBtn = this.renderLogoutButton(),\n    loggedIn = accountName ? `Logged in as ${accountName}` : ''\n    \n    return (\n      <div style={{ textAlign: 'center', paddingTop: '50px' }}>\n        <h2>Decentralize.io</h2>\n        {modalButton}\n        <h3 className='ual-subtitle'>{loggedIn}</h3>\n        { this.state.activeUser &&\n          <div>\n              {logoutBtn}\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default DecentralizeApp;"]},"metadata":{},"sourceType":"module"}