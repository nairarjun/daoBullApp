{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar CsvConfigConsts = function () {\n  function CsvConfigConsts() {}\n\n  CsvConfigConsts.EOL = \"\\r\\n\";\n  CsvConfigConsts.BOM = \"\\ufeff\";\n  CsvConfigConsts.DEFAULT_FIELD_SEPARATOR = ',';\n  CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR = '.';\n  CsvConfigConsts.DEFAULT_QUOTE = '\"';\n  CsvConfigConsts.DEFAULT_SHOW_TITLE = false;\n  CsvConfigConsts.DEFAULT_TITLE = 'My Generated Report';\n  CsvConfigConsts.DEFAULT_FILENAME = 'generated';\n  CsvConfigConsts.DEFAULT_SHOW_LABELS = false;\n  CsvConfigConsts.DEFAULT_USE_TEXT_FILE = false;\n  CsvConfigConsts.DEFAULT_USE_BOM = true;\n  CsvConfigConsts.DEFAULT_HEADER = [];\n  CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS = false;\n  return CsvConfigConsts;\n}();\n\nexports.CsvConfigConsts = CsvConfigConsts;\nexports.ConfigDefaults = {\n  filename: CsvConfigConsts.DEFAULT_FILENAME,\n  fieldSeparator: CsvConfigConsts.DEFAULT_FIELD_SEPARATOR,\n  quoteStrings: CsvConfigConsts.DEFAULT_QUOTE,\n  decimalSeparator: CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR,\n  showLabels: CsvConfigConsts.DEFAULT_SHOW_LABELS,\n  showTitle: CsvConfigConsts.DEFAULT_SHOW_TITLE,\n  title: CsvConfigConsts.DEFAULT_TITLE,\n  useTextFile: CsvConfigConsts.DEFAULT_USE_TEXT_FILE,\n  useBom: CsvConfigConsts.DEFAULT_USE_BOM,\n  headers: CsvConfigConsts.DEFAULT_HEADER,\n  useKeysAsHeaders: CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS\n};\n\nvar ExportToCsv = function () {\n  function ExportToCsv(options) {\n    this._csv = \"\";\n    var config = options || {};\n    this._options = objectAssign({}, exports.ConfigDefaults, config);\n\n    if (this._options.useKeysAsHeaders && this._options.headers && this._options.headers.length > 0) {\n      console.warn('Option to use object keys as headers was set, but headers were still passed!');\n    }\n  }\n\n  Object.defineProperty(ExportToCsv.prototype, \"options\", {\n    get: function () {\n      return this._options;\n    },\n    set: function (options) {\n      this._options = objectAssign({}, exports.ConfigDefaults, options);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Generate and Download Csv\n   */\n\n  ExportToCsv.prototype.generateCsv = function (jsonData, shouldReturnCsv) {\n    if (shouldReturnCsv === void 0) {\n      shouldReturnCsv = false;\n    } // Make sure to reset csv data on each run\n\n\n    this._csv = '';\n\n    this._parseData(jsonData);\n\n    if (this._options.useBom) {\n      this._csv += CsvConfigConsts.BOM;\n    }\n\n    if (this._options.showTitle) {\n      this._csv += this._options.title + '\\r\\n\\n';\n    }\n\n    this._getHeaders();\n\n    this._getBody();\n\n    if (this._csv == '') {\n      console.log(\"Invalid data\");\n      return;\n    } // When the consumer asks for the data, exit the function\n    // by returning the CSV data built at this point\n\n\n    if (shouldReturnCsv) {\n      return this._csv;\n    } // Create CSV blob to download if requesting in the browser and the\n    // consumer doesn't set the shouldReturnCsv param\n\n\n    var FileType = this._options.useTextFile ? 'plain' : 'csv';\n    var fileExtension = this._options.useTextFile ? '.txt' : '.csv';\n    var blob = new Blob([this._csv], {\n      \"type\": \"text/\" + FileType + \";charset=utf8;\"\n    });\n\n    if (navigator.msSaveBlob) {\n      var filename = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n      navigator.msSaveBlob(blob, filename);\n    } else {\n      var attachmentType = this._options.useTextFile ? 'text' : 'csv';\n      var uri = 'data:attachment/' + attachmentType + ';charset=utf-8,' + encodeURI(this._csv);\n      var link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.setAttribute('visibility', 'hidden');\n      link.download = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n  /**\n   * Create Headers\n   */\n\n\n  ExportToCsv.prototype._getHeaders = function () {\n    if (!this._options.showLabels && !this._options.useKeysAsHeaders) {\n      return;\n    }\n\n    var useKeysAsHeaders = this._options.useKeysAsHeaders;\n    var headers = useKeysAsHeaders ? Object.keys(this._data[0]) : this._options.headers;\n\n    if (headers.length > 0) {\n      var row = \"\";\n\n      for (var keyPos = 0; keyPos < headers.length; keyPos++) {\n        row += headers[keyPos] + this._options.fieldSeparator;\n      }\n\n      row = row.slice(0, -1);\n      this._csv += row + CsvConfigConsts.EOL;\n    }\n  };\n  /**\n   * Create Body\n   */\n\n\n  ExportToCsv.prototype._getBody = function () {\n    var keys = Object.keys(this._data[0]);\n\n    for (var i = 0; i < this._data.length; i++) {\n      var row = \"\";\n\n      for (var keyPos = 0; keyPos < keys.length; keyPos++) {\n        var key = keys[keyPos];\n        row += this._formatData(this._data[i][key]) + this._options.fieldSeparator;\n      }\n\n      row = row.slice(0, -1);\n      this._csv += row + CsvConfigConsts.EOL;\n    }\n  };\n  /**\n   * Format Data\n   * @param {any} data\n   */\n\n\n  ExportToCsv.prototype._formatData = function (data) {\n    if (this._options.decimalSeparator === 'locale' && this._isFloat(data)) {\n      return data.toLocaleString();\n    }\n\n    if (this._options.decimalSeparator !== '.' && this._isFloat(data)) {\n      return data.toString().replace('.', this._options.decimalSeparator);\n    }\n\n    if (typeof data === 'string') {\n      data = data.replace(/\"/g, '\"\"');\n\n      if (this._options.quoteStrings || data.indexOf(',') > -1 || data.indexOf('\\n') > -1 || data.indexOf('\\r') > -1) {\n        data = this._options.quoteStrings + data + this._options.quoteStrings;\n      }\n\n      return data;\n    }\n\n    if (typeof data === 'boolean') {\n      return data ? 'TRUE' : 'FALSE';\n    }\n\n    return data;\n  };\n  /**\n   * Check if is Float\n   * @param {any} input\n   */\n\n\n  ExportToCsv.prototype._isFloat = function (input) {\n    return +input === input && (!isFinite(input) || Boolean(input % 1));\n  };\n  /**\n   * Parse the collection given to it\n   *\n   * @private\n   * @param {*} jsonData\n   * @returns {any[]}\n   * @memberof ExportToCsv\n   */\n\n\n  ExportToCsv.prototype._parseData = function (jsonData) {\n    this._data = typeof jsonData != 'object' ? JSON.parse(jsonData) : jsonData;\n    return this._data;\n  };\n\n  return ExportToCsv;\n}();\n\nexports.ExportToCsv = ExportToCsv;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n/**\n * Convet to Object\n * @param {any} val\n */\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n/**\n * Assign data  to new Object\n * @param {any}   target\n * @param {any[]} ...source\n */\n\n\nfunction objectAssign(target) {\n  var source = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    source[_i - 1] = arguments[_i];\n  }\n\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      symbols = Object.getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n}","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/eos-hackathon/decentralize-io-ui/node_modules/export-to-csv/build/export-to-csv.js"],"names":["Object","defineProperty","exports","value","CsvConfigConsts","EOL","BOM","DEFAULT_FIELD_SEPARATOR","DEFAULT_DECIMAL_SEPARATOR","DEFAULT_QUOTE","DEFAULT_SHOW_TITLE","DEFAULT_TITLE","DEFAULT_FILENAME","DEFAULT_SHOW_LABELS","DEFAULT_USE_TEXT_FILE","DEFAULT_USE_BOM","DEFAULT_HEADER","DEFAULT_KEYS_AS_HEADERS","ConfigDefaults","filename","fieldSeparator","quoteStrings","decimalSeparator","showLabels","showTitle","title","useTextFile","useBom","headers","useKeysAsHeaders","ExportToCsv","options","_csv","config","_options","objectAssign","length","console","warn","prototype","get","set","enumerable","configurable","generateCsv","jsonData","shouldReturnCsv","_parseData","_getHeaders","_getBody","log","FileType","fileExtension","blob","Blob","navigator","msSaveBlob","replace","attachmentType","uri","encodeURI","link","document","createElement","href","URL","createObjectURL","setAttribute","download","body","appendChild","click","removeChild","keys","_data","row","keyPos","slice","i","key","_formatData","data","_isFloat","toLocaleString","toString","indexOf","input","isFinite","Boolean","JSON","parse","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","target","source","_i","arguments","from","to","symbols","s","call","getOwnPropertySymbols"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CsvConfigConsts = (function () {\n    function CsvConfigConsts() {\n    }\n    CsvConfigConsts.EOL = \"\\r\\n\";\n    CsvConfigConsts.BOM = \"\\ufeff\";\n    CsvConfigConsts.DEFAULT_FIELD_SEPARATOR = ',';\n    CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR = '.';\n    CsvConfigConsts.DEFAULT_QUOTE = '\"';\n    CsvConfigConsts.DEFAULT_SHOW_TITLE = false;\n    CsvConfigConsts.DEFAULT_TITLE = 'My Generated Report';\n    CsvConfigConsts.DEFAULT_FILENAME = 'generated';\n    CsvConfigConsts.DEFAULT_SHOW_LABELS = false;\n    CsvConfigConsts.DEFAULT_USE_TEXT_FILE = false;\n    CsvConfigConsts.DEFAULT_USE_BOM = true;\n    CsvConfigConsts.DEFAULT_HEADER = [];\n    CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS = false;\n    return CsvConfigConsts;\n}());\nexports.CsvConfigConsts = CsvConfigConsts;\nexports.ConfigDefaults = {\n    filename: CsvConfigConsts.DEFAULT_FILENAME,\n    fieldSeparator: CsvConfigConsts.DEFAULT_FIELD_SEPARATOR,\n    quoteStrings: CsvConfigConsts.DEFAULT_QUOTE,\n    decimalSeparator: CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR,\n    showLabels: CsvConfigConsts.DEFAULT_SHOW_LABELS,\n    showTitle: CsvConfigConsts.DEFAULT_SHOW_TITLE,\n    title: CsvConfigConsts.DEFAULT_TITLE,\n    useTextFile: CsvConfigConsts.DEFAULT_USE_TEXT_FILE,\n    useBom: CsvConfigConsts.DEFAULT_USE_BOM,\n    headers: CsvConfigConsts.DEFAULT_HEADER,\n    useKeysAsHeaders: CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS,\n};\nvar ExportToCsv = (function () {\n    function ExportToCsv(options) {\n        this._csv = \"\";\n        var config = options || {};\n        this._options = objectAssign({}, exports.ConfigDefaults, config);\n        if (this._options.useKeysAsHeaders\n            && this._options.headers\n            && this._options.headers.length > 0) {\n            console.warn('Option to use object keys as headers was set, but headers were still passed!');\n        }\n    }\n    Object.defineProperty(ExportToCsv.prototype, \"options\", {\n        get: function () {\n            return this._options;\n        },\n        set: function (options) {\n            this._options = objectAssign({}, exports.ConfigDefaults, options);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Generate and Download Csv\n     */\n    ExportToCsv.prototype.generateCsv = function (jsonData, shouldReturnCsv) {\n        if (shouldReturnCsv === void 0) { shouldReturnCsv = false; }\n        // Make sure to reset csv data on each run\n        this._csv = '';\n        this._parseData(jsonData);\n        if (this._options.useBom) {\n            this._csv += CsvConfigConsts.BOM;\n        }\n        if (this._options.showTitle) {\n            this._csv += this._options.title + '\\r\\n\\n';\n        }\n        this._getHeaders();\n        this._getBody();\n        if (this._csv == '') {\n            console.log(\"Invalid data\");\n            return;\n        }\n        // When the consumer asks for the data, exit the function\n        // by returning the CSV data built at this point\n        if (shouldReturnCsv) {\n            return this._csv;\n        }\n        // Create CSV blob to download if requesting in the browser and the\n        // consumer doesn't set the shouldReturnCsv param\n        var FileType = this._options.useTextFile ? 'plain' : 'csv';\n        var fileExtension = this._options.useTextFile ? '.txt' : '.csv';\n        var blob = new Blob([this._csv], { \"type\": \"text/\" + FileType + \";charset=utf8;\" });\n        if (navigator.msSaveBlob) {\n            var filename = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n            navigator.msSaveBlob(blob, filename);\n        }\n        else {\n            var attachmentType = this._options.useTextFile ? 'text' : 'csv';\n            var uri = 'data:attachment/' + attachmentType + ';charset=utf-8,' + encodeURI(this._csv);\n            var link = document.createElement(\"a\");\n            link.href = URL.createObjectURL(blob);\n            link.setAttribute('visibility', 'hidden');\n            link.download = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        }\n    };\n    /**\n     * Create Headers\n     */\n    ExportToCsv.prototype._getHeaders = function () {\n        if (!this._options.showLabels && !this._options.useKeysAsHeaders) {\n            return;\n        }\n        var useKeysAsHeaders = this._options.useKeysAsHeaders;\n        var headers = useKeysAsHeaders ? Object.keys(this._data[0]) : this._options.headers;\n        if (headers.length > 0) {\n            var row = \"\";\n            for (var keyPos = 0; keyPos < headers.length; keyPos++) {\n                row += headers[keyPos] + this._options.fieldSeparator;\n            }\n            row = row.slice(0, -1);\n            this._csv += row + CsvConfigConsts.EOL;\n        }\n    };\n    /**\n     * Create Body\n     */\n    ExportToCsv.prototype._getBody = function () {\n        var keys = Object.keys(this._data[0]);\n        for (var i = 0; i < this._data.length; i++) {\n            var row = \"\";\n            for (var keyPos = 0; keyPos < keys.length; keyPos++) {\n                var key = keys[keyPos];\n                row += this._formatData(this._data[i][key]) + this._options.fieldSeparator;\n            }\n            row = row.slice(0, -1);\n            this._csv += row + CsvConfigConsts.EOL;\n        }\n    };\n    /**\n     * Format Data\n     * @param {any} data\n     */\n    ExportToCsv.prototype._formatData = function (data) {\n        if (this._options.decimalSeparator === 'locale' && this._isFloat(data)) {\n            return data.toLocaleString();\n        }\n        if (this._options.decimalSeparator !== '.' && this._isFloat(data)) {\n            return data.toString().replace('.', this._options.decimalSeparator);\n        }\n        if (typeof data === 'string') {\n            data = data.replace(/\"/g, '\"\"');\n            if (this._options.quoteStrings || data.indexOf(',') > -1 || data.indexOf('\\n') > -1 || data.indexOf('\\r') > -1) {\n                data = this._options.quoteStrings + data + this._options.quoteStrings;\n            }\n            return data;\n        }\n        if (typeof data === 'boolean') {\n            return data ? 'TRUE' : 'FALSE';\n        }\n        return data;\n    };\n    /**\n     * Check if is Float\n     * @param {any} input\n     */\n    ExportToCsv.prototype._isFloat = function (input) {\n        return +input === input && (!isFinite(input) || Boolean(input % 1));\n    };\n    /**\n     * Parse the collection given to it\n     *\n     * @private\n     * @param {*} jsonData\n     * @returns {any[]}\n     * @memberof ExportToCsv\n     */\n    ExportToCsv.prototype._parseData = function (jsonData) {\n        this._data = typeof jsonData != 'object' ? JSON.parse(jsonData) : jsonData;\n        return this._data;\n    };\n    return ExportToCsv;\n}());\nexports.ExportToCsv = ExportToCsv;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n/**\n * Convet to Object\n * @param {any} val\n */\nfunction toObject(val) {\n    if (val === null || val === undefined) {\n        throw new TypeError('Object.assign cannot be called with null or undefined');\n    }\n    return Object(val);\n}\n/**\n * Assign data  to new Object\n * @param {any}   target\n * @param {any[]} ...source\n */\nfunction objectAssign(target) {\n    var source = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        source[_i - 1] = arguments[_i];\n    }\n    var from;\n    var to = toObject(target);\n    var symbols;\n    for (var s = 1; s < arguments.length; s++) {\n        from = Object(arguments[s]);\n        for (var key in from) {\n            if (hasOwnProperty.call(from, key)) {\n                to[key] = from[key];\n            }\n        }\n        if (Object.getOwnPropertySymbols) {\n            symbols = Object.getOwnPropertySymbols(from);\n            for (var i = 0; i < symbols.length; i++) {\n                if (propIsEnumerable.call(from, symbols[i])) {\n                    to[symbols[i]] = from[symbols[i]];\n                }\n            }\n        }\n    }\n    return to;\n}\n//# sourceMappingURL=export-to-csv.js.map"]},"metadata":{},"sourceType":"script"}