{"ast":null,"code":"var _jsxFileName = \"/home/turbo/devel/MyGame/contracts/decentralize-io-ui/src/components/Main/DecentralizeApp.js\";\nimport { JsonRpc } from 'eosjs';\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ourNetwork = {\n  chainId: \"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f\",\n  rpcEndpoints: [{\n    protocol: \"https\",\n    host: \"api.testnet.eos.io\",\n    port: \"\"\n  }]\n};\nconst contract_account = \"cthqkrpvdwcm\";\nconst defaultState = {\n  activeUser: null,\n  accountName: ''\n};\n\nclass DecentralizeApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidUpdate = () => {\n      const {\n        ual: {\n          activeUser\n        }\n      } = this.props;\n\n      if (activeUser && !this.state.activeUser) {\n        this.setState({\n          activeUser\n        }, this.updateAccountName);\n      } else if (!activeUser && this.state.activeUser) {\n        this.setState(defaultState);\n      }\n    };\n\n    this.updateAccountName = async () => {\n      try {\n        const accountName = await this.state.activeUser.getAccountName();\n        this.setState({\n          accountName\n        }, this.updateAccountBalance);\n      } catch (e) {\n        console.warn(e);\n      }\n    };\n\n    this.renderLogoutButton = () => {\n      const {\n        ual: {\n          activeUser,\n          activeAuthenticator,\n          logout\n        }\n      } = this.props;\n\n      if (!!activeUser && !!activeAuthenticator) {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ual-btn-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            variant: \"outline-danger\",\n            onClick: logout,\n            children: 'Logout'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this);\n      }\n    };\n\n    this.renderModalButton = () => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ual-btn-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          variant: \"outline-primary\",\n          onClick: this.props.ual.showModal,\n          className: \"ual-generic-button\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.state = { ...defaultState,\n      rpc: new JsonRpc(`${ourNetwork.rpcEndpoints[0].protocol}://${ourNetwork.rpcEndpoints[0].host}${ourNetwork.rpcEndpoints[0].port !== \"\" ? \":\" : \"\"}${ourNetwork.rpcEndpoints[0].port}`)\n    };\n  }\n\n  render() {\n    const {\n      ual: {\n        activeUser\n      }\n    } = this.props;\n    const {\n      accountName\n    } = this.state;\n    let modalButton = !activeUser && this.renderModalButton(),\n        logoutBtn = this.renderLogoutButton();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        paddingTop: '50px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Decentralize.io\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), modalButton, this.state.activeUser && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: logoutBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DecentralizeApp;","map":{"version":3,"sources":["/home/turbo/devel/MyGame/contracts/decentralize-io-ui/src/components/Main/DecentralizeApp.js"],"names":["JsonRpc","React","Component","ourNetwork","chainId","rpcEndpoints","protocol","host","port","contract_account","defaultState","activeUser","accountName","DecentralizeApp","constructor","props","componentDidUpdate","ual","state","setState","updateAccountName","getAccountName","updateAccountBalance","e","console","warn","renderLogoutButton","activeAuthenticator","logout","renderModalButton","showModal","rpc","render","modalButton","logoutBtn","textAlign","paddingTop"],"mappings":"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","sourcesContent":["import { JsonRpc } from 'eosjs'\nimport React, {Component} from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nconst ourNetwork = {\n  chainId: \"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f\",\n  rpcEndpoints: [{ protocol: \"https\", host: \"api.testnet.eos.io\", port: \"\" }]\n}\nconst contract_account = \"cthqkrpvdwcm\";\nconst defaultState = {\n  activeUser: null,\n  accountName: '',\n};\n\nclass DecentralizeApp extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n       ...defaultState,\n      rpc: new JsonRpc(`${ourNetwork.rpcEndpoints[0].protocol}://${ourNetwork.rpcEndpoints[0].host}${ourNetwork.rpcEndpoints[0].port !== \"\" ? \":\" : \"\"}${ourNetwork.rpcEndpoints[0].port}`),\n    }\n  }\n\n componentDidUpdate = () => {\n    const { ual: { activeUser } } = this.props\n    if (activeUser && !this.state.activeUser) {\n      this.setState({ activeUser }, this.updateAccountName)\n    } else if (!activeUser && this.state.activeUser) {\n      this.setState(defaultState)\n    }\n  }\n\n  updateAccountName = async () => {\n    try {\n      const accountName = await this.state.activeUser.getAccountName()\n      this.setState({ accountName }, this.updateAccountBalance)\n    } catch (e) {\n      console.warn(e)\n    }\n  }\n\n  renderLogoutButton = () => {\n    const { ual: { activeUser, activeAuthenticator, logout } } = this.props\n    if (!!activeUser && !!activeAuthenticator) {\n      return (\n        <p className='ual-btn-wrapper'>\n          <div variant='outline-danger' onClick={logout}>\n            {'Logout'}\n          </div>\n        </p>\n      )\n    }\n  }\n\n  renderModalButton=()=> {\n    return (\n      <p className='ual-btn-wrapper'>\n        <div variant='outline-primary'\n          onClick={this.props.ual.showModal}\n          className='ual-generic-button'>Login</div>\n      </p>\n    )\n  }\n\n  render() {\n    const { ual: { activeUser } } = this.props\n    const { accountName } = this.state\n    let modalButton = !activeUser && this.renderModalButton(),\n    logoutBtn = this.renderLogoutButton()\n    \n    return (\n      <div style={{ textAlign: 'center', paddingTop: '50px' }}>\n        <h2>Decentralize.io</h2>\n        {modalButton}\n        { this.state.activeUser &&\n          <div>\n              {logoutBtn}\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default DecentralizeApp;"]},"metadata":{},"sourceType":"module"}